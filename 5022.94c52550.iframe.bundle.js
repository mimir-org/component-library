"use strict";(self.webpackChunk_mimirorg_component_library=self.webpackChunk_mimirorg_component_library||[]).push([[5022],{"./node_modules/d3-dispatch/src/dispatch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var noop={value:()=>{}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name}}))}(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};const __WEBPACK_DEFAULT_EXPORT__=dispatch},"./node_modules/d3-drag/src/nodrag.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>yesdrag,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var d3_selection__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-selection/src/select.js"),_noevent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3-drag/src/noevent.js");function __WEBPACK_DEFAULT_EXPORT__(view){var root=view.document.documentElement,selection=(0,d3_selection__WEBPACK_IMPORTED_MODULE_0__.Z)(view).on("dragstart.drag",_noevent_js__WEBPACK_IMPORTED_MODULE_1__.ZP,_noevent_js__WEBPACK_IMPORTED_MODULE_1__.Dd);"onselectstart"in root?selection.on("selectstart.drag",_noevent_js__WEBPACK_IMPORTED_MODULE_1__.ZP,_noevent_js__WEBPACK_IMPORTED_MODULE_1__.Dd):(root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none")}function yesdrag(view,noclick){var root=view.document.documentElement,selection=(0,d3_selection__WEBPACK_IMPORTED_MODULE_0__.Z)(view).on("dragstart.drag",null);noclick&&(selection.on("click.drag",_noevent_js__WEBPACK_IMPORTED_MODULE_1__.ZP,_noevent_js__WEBPACK_IMPORTED_MODULE_1__.Dd),setTimeout((function(){selection.on("click.drag",null)}),0)),"onselectstart"in root?selection.on("selectstart.drag",null):(root.style.MozUserSelect=root.__noselect,delete root.__noselect)}},"./node_modules/d3-drag/src/noevent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dd:()=>nonpassivecapture,Q7:()=>nonpassive,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,rG:()=>nopropagation});const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation(event){event.stopImmediatePropagation()}function __WEBPACK_DEFAULT_EXPORT__(event){event.preventDefault(),event.stopImmediatePropagation()}},"./node_modules/d3-selection/src/matcher.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__(selector){return function(){return this.matches(selector)}}function childMatcher(selector){return function(node){return node.matches(selector)}}__webpack_require__.d(__webpack_exports__,{P:()=>childMatcher,Z:()=>__WEBPACK_DEFAULT_EXPORT__})},"./node_modules/d3-selection/src/namespace.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _namespaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-selection/src/namespaces.js");function __WEBPACK_DEFAULT_EXPORT__(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),_namespaces_js__WEBPACK_IMPORTED_MODULE_0__.Z.hasOwnProperty(prefix)?{space:_namespaces_js__WEBPACK_IMPORTED_MODULE_0__.Z[prefix],local:name}:name}},"./node_modules/d3-selection/src/namespaces.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>xhtml,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var xhtml="http://www.w3.org/1999/xhtml";const __WEBPACK_DEFAULT_EXPORT__={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},"./node_modules/d3-selection/src/pointer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function pointer(event,node){if(event=function sourceEvent(event){let sourceEvent;for(;sourceEvent=event.sourceEvent;)event=sourceEvent;return event}(event),void 0===node&&(node=event.currentTarget),node){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,[(point=point.matrixTransform(node.getScreenCTM().inverse())).x,point.y]}if(node.getBoundingClientRect){var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]}}return[event.pageX,event.pageY]}__webpack_require__.d(__webpack_exports__,{Z:()=>pointer})},"./node_modules/d3-selection/src/select.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _selection_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-selection/src/selection/index.js");function __WEBPACK_DEFAULT_EXPORT__(selector){return"string"==typeof selector?new _selection_index_js__WEBPACK_IMPORTED_MODULE_0__.Y1([[document.querySelector(selector)]],[document.documentElement]):new _selection_index_js__WEBPACK_IMPORTED_MODULE_0__.Y1([[selector]],_selection_index_js__WEBPACK_IMPORTED_MODULE_0__.Jz)}},"./node_modules/d3-selection/src/selection/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y1:()=>Selection,ZP:()=>src_selection,Jz:()=>root});var selector=__webpack_require__("./node_modules/d3-selection/src/selector.js");var selectorAll=__webpack_require__("./node_modules/d3-selection/src/selectorAll.js");function arrayAll(select){return function(){return function array(x){return null==x?[]:Array.isArray(x)?x:Array.from(x)}(select.apply(this,arguments))}}var matcher=__webpack_require__("./node_modules/d3-selection/src/matcher.js"),find=Array.prototype.find;function childFirst(){return this.firstElementChild}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue=new Map,groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=key.call(node,node.__data__,i,group)+"",nodeByKeyValue.has(keyValue)?exit[i]=node:nodeByKeyValue.set(keyValue,node));for(i=0;i<dataLength;++i)keyValue=key.call(parent,data[i],i,data)+"",(node=nodeByKeyValue.get(keyValue))?(update[i]=node,node.__data__=data[i],nodeByKeyValue.delete(keyValue)):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue.get(keyValues[i])===node&&(exit[i]=node)}function datum(node){return node.__data__}function arraylike(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}};var namespace=__webpack_require__("./node_modules/d3-selection/src/namespace.js");function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}var style=__webpack_require__("./node_modules/d3-selection/src/selection/style.js");function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var namespaces=__webpack_require__("./node_modules/d3-selection/src/namespaces.js");function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===namespaces.P&&document.documentElement.namespaceURI===namespaces.P?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=(0,namespace.Z)(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,options){return function(){var o,on=this.__on,listener=function contextListener(listener){return function(event){listener.call(this,event,this.__data__)}}(value);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=options),void(o.value=value);this.addEventListener(typename.type,listener,options),o={type:typename.type,name:typename.name,value,listener,options},on?on.push(o):this.__on=[o]}}var src_window=__webpack_require__("./node_modules/d3-selection/src/window.js");function dispatchEvent(node,type,params){var window=(0,src_window.Z)(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}var root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection([[document.documentElement]],root)}Selection.prototype=selection.prototype={constructor:Selection,select:function selection_select(select){"function"!=typeof select&&(select=(0,selector.Z)(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection(subgroups,this._parents)},selectAll:function selectAll(select){select="function"==typeof select?arrayAll(select):(0,selectorAll.Z)(select);for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection(subgroups,parents)},selectChild:function selectChild(match){return this.select(null==match?childFirst:function childFind(match){return function(){return find.call(this.children,match)}}("function"==typeof match?match:(0,matcher.P)(match)))},selectChildren:function selectChildren(match){return this.selectAll(null==match?children:function childrenFilter(match){return function(){return filter.call(this.children,match)}}("function"==typeof match?match:(0,matcher.P)(match)))},filter:function selection_filter(match){"function"!=typeof match&&(match=(0,matcher.Z)(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection(subgroups,this._parents)},data:function data(value,key){if(!arguments.length)return Array.from(this,datum);var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=function constant(x){return function(){return x}}(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=arraylike(value.call(parent,parent&&parent.__data__,j,parents)),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection(update,parents))._enter=enter,update._exit=exit,update},enter:function enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function join(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return"function"==typeof onenter?(enter=onenter(enter))&&(enter=enter.selection()):enter=enter.append(onenter+""),null!=onupdate&&(update=onupdate(update))&&(update=update.selection()),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function merge(context){for(var selection=context.selection?context.selection():context,groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection(merges,this._parents)},selection:function selection_selection(){return this},order:function order(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function sort(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection(sortgroups,this._parents).order()},call:function call(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function nodes(){return Array.from(this)},node:function node(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function size(){let size=0;for(const node of this)++size;return size},empty:function empty(){return!this.node()},each:function each(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function attr(name,value){var fullname=(0,namespace.Z)(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))},style:style.Z,property:function property(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function classed(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function selection_text(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent},html:function html(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function append(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function insert(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:(0,selector.Z)(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function clone(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function selection_datum(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function on(typename,value,options){var i,t,typenames=function parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name}}))}(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,i=0;i<n;++i)this.each(on(typenames[i],value,options));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function dispatch(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))},[Symbol.iterator]:function*iterator(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&(yield node)}};const src_selection=selection},"./node_modules/d3-selection/src/selection/style.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>styleValue,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _window_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-selection/src/window.js");function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function __WEBPACK_DEFAULT_EXPORT__(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)}function styleValue(node,name){return node.style.getPropertyValue(name)||(0,_window_js__WEBPACK_IMPORTED_MODULE_0__.Z)(node).getComputedStyle(node,null).getPropertyValue(name)}},"./node_modules/d3-selection/src/selector.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function none(){}function __WEBPACK_DEFAULT_EXPORT__(selector){return null==selector?none:function(){return this.querySelector(selector)}}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},"./node_modules/d3-selection/src/selectorAll.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function empty(){return[]}function __WEBPACK_DEFAULT_EXPORT__(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},"./node_modules/d3-selection/src/window.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},"./node_modules/d3-zoom/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sP:()=>zoom,CR:()=>transform_identity});var dispatch=__webpack_require__("./node_modules/d3-dispatch/src/dispatch.js"),nodrag=__webpack_require__("./node_modules/d3-drag/src/nodrag.js");function cosh(x){return((x=Math.exp(x))+1/x)/2}const src_zoom=function zoomRho(rho,rho2,rho4){function zoom(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+rho4*d2)/(2*w0*rho2*d1),b1=(w1*w1-w0*w0-rho4*d2)/(2*w1*rho2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(rho2*d1)*(coshr0*function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}(rho*s+r0)-function sinh(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S*rho/Math.SQRT2,i}return zoom.rho=function(_){var _1=Math.max(.001,+_),_2=_1*_1;return zoomRho(_1,_2,_2*_2)},zoom}(Math.SQRT2,2,4);var taskHead,taskTail,src_select=__webpack_require__("./node_modules/d3-selection/src/select.js"),pointer=__webpack_require__("./node_modules/d3-selection/src/pointer.js"),selection=__webpack_require__("./node_modules/d3-selection/src/selection/index.js"),timer_frame=0,timeout=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,timer_frame=timeout=0;try{!function timerFlush(){now(),++timer_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(void 0,e),t=t._next;--timer_frame}()}finally{timer_frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>pokeDelay&&(clockSkew-=delay,clockLast=now)}function sleep(time){timer_frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),timer_frame=1,setFrame(wake)))}function src_timeout(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((elapsed=>{t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=(0,dispatch.Z)("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function create(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=SCHEDULED,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(self.state!==SCHEDULED)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(o.state===STARTED)return src_timeout(start);o.state===RUNNING?(o.state=ENDED,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=ENDED,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(src_timeout((function(){self.state===STARTED&&(self.state=RUNNING,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=STARTING,self.on.call("start",node,node.__data__,self.index,self.group),self.state===STARTING){for(self.state=STARTED,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=ENDING,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);self.state===ENDING&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=ENDED,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name,index,group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:CREATED})}function init(node,id){var schedule=get(node,id);if(schedule.state>CREATED)throw new Error("too late; already scheduled");return schedule}function set(node,id){var schedule=get(node,id);if(schedule.state>STARTED)throw new Error("too late; already running");return schedule}function get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>STARTING&&schedule.state<ENDING,schedule.state=ENDED,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}function number(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}var svgNode,degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:number(xa,xb)},{i:i-2,x:number(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:number(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:number(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:number(xa,xb)},{i:i-2,x:number(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform((function parseCss(value){const m=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+"");return m.isIdentity?identity:decompose(m.a,m.b,m.c,m.d,m.e,m.f)}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function parseSvg(value){return null==value?identity:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):identity)}),", ",")",")"),namespace=__webpack_require__("./node_modules/d3-selection/src/namespace.js");function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name,value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=set(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return get(node,id).value[name]}}function src_define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function color_rgb(r,g,b,opacity){return 1===arguments.length?function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const a=clampa(this.opacity);return`${1===a?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===a?")":`, ${a})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}src_define(Color,color,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,(function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return`${1===a?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===a?")":`, ${a})`}`}}));const src_constant=x=>()=>x;function linear(a,d){return function(t){return a+t*d}}function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):src_constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):src_constant(isNaN(a)?b:a)}const rgb=function rgbGamma(y){var color=gamma(y);function rgb(start,end){var r=color((start=color_rgb(start)).r,(end=color_rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=color_rgb(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}rgbSpline((function src_basis(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}})),rgbSpline((function basisClosed(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis((t-i/n)*n,v0,v1,v2,v3)}}));var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:number(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function interpolate(a,b){var c;return("number"==typeof b?number:b instanceof color?rgb:(c=color(b))?(b=c,rgb):string)(a,b)}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrConstantNS(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attrFunctionNS(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolateNS(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolate(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){set(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){set(this,id).duration=value}}var matcher=__webpack_require__("./node_modules/d3-selection/src/matcher.js");var selector=__webpack_require__("./node_modules/d3-selection/src/selector.js");var selectorAll=__webpack_require__("./node_modules/d3-selection/src/selectorAll.js");var Selection=selection.ZP.prototype.constructor;var style=__webpack_require__("./node_modules/d3-selection/src/selection/style.js");function styleRemove(name){return function(){this.style.removeProperty(name)}}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function newId(){return++id}var selection_prototype=selection.ZP.prototype;Transition.prototype=function transition_transition(name){return(0,selection.ZP)().transition(name)}.prototype={constructor:Transition,select:function transition_select(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=(0,selector.Z)(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,get(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function selectAll(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=(0,selectorAll.Z)(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=get(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:function filter(match){"function"!=typeof match&&(match=(0,matcher.Z)(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function merge(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function transition_selection(){return new Selection(this._groups,this._parents)},transition:function transition(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=get(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function on(name,listener){var id=this._id;return arguments.length<2?get(this.node(),id).on.on(name):this.each(function onFunction(id,name,listener){var on0,on1,sit=function start(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:set;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}(id,name,listener))},attr:function attr(name,value){var fullname=(0,namespace.Z)(name),i="transform"===fullname?interpolateTransformSvg:interpolate;return this.attrTween(name,"function"==typeof value?(fullname.local?attrFunctionNS:attrFunction)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attrRemoveNS:attrRemove)(fullname):(fullname.local?attrConstantNS:attrConstant)(fullname,i,value))},attrTween:function transition_attrTween(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=(0,namespace.Z)(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function transition_style(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:interpolate;return null==value?this.styleTween(name,function styleNull(name,interpolate){var string00,string10,interpolate0;return function(){var string0=(0,style.S)(this,name),string1=(this.style.removeProperty(name),(0,style.S)(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,styleRemove(name)):"function"==typeof value?this.styleTween(name,function styleFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=(0,style.S)(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=(0,style.S)(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function styleMaybeRemove(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=set(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=styleRemove(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function styleConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=(0,style.S)(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function transition_styleTween(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function styleTween(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&function styleInterpolate(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}(name,i,priority)),t}return tween._value=value,tween}(name,value,null==priority?"":priority))},text:function transition_text(value){return this.tween("text","function"==typeof value?function textFunction(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function textConstant(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function transition_textTween(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function textTween(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function textInterpolate(i){return function(t){this.textContent=i.call(this,t)}}(i)),t0}return tween._value=value,tween}(value))},remove:function remove(){return this.on("end.remove",function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function tween(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=get(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function delay(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):get(this.node(),id).delay},duration:function duration(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):get(this.node(),id).duration},ease:function ease(value){var id=this._id;return arguments.length?this.each(function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){set(this,id).ease=value}}(id,value)):get(this.node(),id).ease},easeVarying:function transition_easeVarying(value){if("function"!=typeof value)throw new Error;return this.each(function easeVarying(id,value){return function(){var v=value.apply(this,arguments);if("function"!=typeof v)throw new Error;set(this,id).ease=v}}(this._id,value))},end:function end(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function(){0==--size&&resolve()}};that.each((function(){var schedule=set(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1})),0===size&&resolve()}))},[Symbol.iterator]:selection_prototype[Symbol.iterator]};var defaultTiming={time:null,delay:0,duration:250,ease:function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))throw new Error(`transition ${id} not found`);return timing}selection.ZP.prototype.interrupt=function selection_interrupt(name){return this.each((function(){interrupt(this,name)}))},selection.ZP.prototype.transition=function selection_transition(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)};const d3_zoom_src_constant=x=>()=>x;function ZoomEvent(type,{sourceEvent,target,transform,dispatch}){Object.defineProperties(this,{type:{value:type,enumerable:!0,configurable:!0},sourceEvent:{value:sourceEvent,enumerable:!0,configurable:!0},target:{value:target,enumerable:!0,configurable:!0},transform:{value:transform,enumerable:!0,configurable:!0},_:{value:dispatch}})}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}Transform.prototype={constructor:Transform,scale:function(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var transform_identity=new Transform(1,0,0);function nopropagation(event){event.stopImmediatePropagation()}function noevent(event){event.preventDefault(),event.stopImmediatePropagation()}function defaultFilter(event){return!(event.ctrlKey&&"wheel"!==event.type||event.button)}function defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||transform_identity}function defaultWheelDelta(event){return-event.deltaY*(1===event.deltaMode?.05:event.deltaMode?1:.002)*(event.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(transform,extent,translateExtent){var dx0=transform.invertX(extent[0][0])-translateExtent[0][0],dx1=transform.invertX(extent[1][0])-translateExtent[1][0],dy0=transform.invertY(extent[0][1])-translateExtent[0][1],dy1=transform.invertY(extent[1][1])-translateExtent[1][1];return transform.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),dy1>dy0?(dy0+dy1)/2:Math.min(0,dy0)||Math.max(0,dy1))}function zoom(){var touchstarting,touchfirst,touchending,filter=defaultFilter,extent=defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=defaultTouchable,scaleExtent=[0,1/0],translateExtent=[[-1/0,-1/0],[1/0,1/0]],duration=250,interpolate=src_zoom,listeners=(0,dispatch.Z)("start","zoom","end"),touchDelay=500,wheelDelay=150,clickDistance2=0,tapDistance=10;function zoom(selection){selection.property("__zoom",defaultTransform).on("wheel.zoom",wheeled,{passive:!1}).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform,k){return(k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],k)))===transform.k?transform:new Transform(k,transform.x,transform.y)}function translate(transform,p0,p1){var x=p0[0]-p1[0]*transform.k,y=p0[1]-p1[1]*transform.k;return x===transform.x&&y===transform.y?transform:new Transform(transform.k,x,y)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform,point,event){transition.on("start.zoom",(function(){gesture(this,arguments).event(event).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).event(event).end()})).tween("zoom",(function(){var args=arguments,g=gesture(this,args).event(event),e=extent.apply(this,args),p=null==point?centroid(e):"function"==typeof point?point.apply(this,args):point,w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),a=this.__zoom,b="function"==typeof transform?transform.apply(this,args):transform,i=interpolate(a.invert(p).concat(w/a.k),b.invert(p).concat(w/b.k));return function(t){if(1===t)t=b;else{var l=i(t),k=w/l[2];t=new Transform(k,p[0]-l[0]*k,p[1]-l[1]*k)}g.zoom(null,t)}}))}function gesture(that,args,clean){return!clean&&that.__zooming||new Gesture(that,args)}function Gesture(that,args){this.that=that,this.args=args,this.active=0,this.sourceEvent=null,this.extent=extent.apply(that,args),this.taps=0}function wheeled(event,...args){if(filter.apply(this,arguments)){var g=gesture(this,args).event(event),t=this.__zoom,k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],t.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=(0,pointer.Z)(event);if(g.wheel)g.mouse[0][0]===p[0]&&g.mouse[0][1]===p[1]||(g.mouse[1]=t.invert(g.mouse[0]=p)),clearTimeout(g.wheel);else{if(t.k===k)return;g.mouse=[p,t.invert(p)],interrupt(this),g.start()}noevent(event),g.wheel=setTimeout((function wheelidled(){g.wheel=null,g.end()}),wheelDelay),g.zoom("mouse",constrain(translate(scale(t,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}function mousedowned(event,...args){if(!touchending&&filter.apply(this,arguments)){var currentTarget=event.currentTarget,g=gesture(this,args,!0).event(event),v=(0,src_select.Z)(event.view).on("mousemove.zoom",(function mousemoved(event){if(noevent(event),!g.moved){var dx=event.clientX-x0,dy=event.clientY-y0;g.moved=dx*dx+dy*dy>clickDistance2}g.event(event).zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=(0,pointer.Z)(event,currentTarget),g.mouse[1]),g.extent,translateExtent))}),!0).on("mouseup.zoom",(function mouseupped(event){v.on("mousemove.zoom mouseup.zoom",null),(0,nodrag.D)(event.view,g.moved),noevent(event),g.event(event).end()}),!0),p=(0,pointer.Z)(event,currentTarget),x0=event.clientX,y0=event.clientY;(0,nodrag.Z)(event.view),nopropagation(event),g.mouse=[p,this.__zoom.invert(p)],interrupt(this),g.start()}}function dblclicked(event,...args){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=(0,pointer.Z)(event.changedTouches?event.changedTouches[0]:event,this),p1=t0.invert(p0),k1=t0.k*(event.shiftKey?.5:2),t1=constrain(translate(scale(t0,k1),p0,p1),extent.apply(this,args),translateExtent);noevent(event),duration>0?(0,src_select.Z)(this).transition().duration(duration).call(schedule,t1,p0,event):(0,src_select.Z)(this).call(zoom.transform,t1,p0,event)}}function touchstarted(event,...args){if(filter.apply(this,arguments)){var started,i,t,p,touches=event.touches,n=touches.length,g=gesture(this,args,event.changedTouches.length===n).event(event);for(nopropagation(event),i=0;i<n;++i)t=touches[i],p=[p=(0,pointer.Z)(t,this),this.__zoom.invert(p),t.identifier],g.touch0?g.touch1||g.touch0[2]===p[2]||(g.touch1=p,g.taps=0):(g.touch0=p,started=!0,g.taps=1+!!touchstarting);touchstarting&&(touchstarting=clearTimeout(touchstarting)),started&&(g.taps<2&&(touchfirst=p[0],touchstarting=setTimeout((function(){touchstarting=null}),touchDelay)),interrupt(this),g.start())}}function touchmoved(event,...args){if(this.__zooming){var i,t,p,l,g=gesture(this,args).event(event),touches=event.changedTouches,n=touches.length;for(noevent(event),i=0;i<n;++i)t=touches[i],p=(0,pointer.Z)(t,this),g.touch0&&g.touch0[2]===t.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===t.identifier&&(g.touch1[0]=p);if(t=g.that.__zoom,g.touch1){var p0=g.touch0[0],l0=g.touch0[1],p1=g.touch1[0],l1=g.touch1[1],dp=(dp=p1[0]-p0[0])*dp+(dp=p1[1]-p0[1])*dp,dl=(dl=l1[0]-l0[0])*dl+(dl=l1[1]-l0[1])*dl;t=scale(t,Math.sqrt(dp/dl)),p=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2]}else{if(!g.touch0)return;p=g.touch0[0],l=g.touch0[1]}g.zoom("touch",constrain(translate(t,p,l),g.extent,translateExtent))}}function touchended(event,...args){if(this.__zooming){var i,t,g=gesture(this,args).event(event),touches=event.changedTouches,n=touches.length;for(nopropagation(event),touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),touchDelay),i=0;i<n;++i)t=touches[i],g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps&&(t=(0,pointer.Z)(t,this),Math.hypot(touchfirst[0]-t[0],touchfirst[1]-t[1])<tapDistance)){var p=(0,src_select.Z)(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return zoom.transform=function(collection,transform,point,event){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform),collection!==selection?schedule(collection,transform,point,event):selection.interrupt().each((function(){gesture(this,arguments).event(event).start().zoom(null,"function"==typeof transform?transform.apply(this,arguments):transform).end()}))},zoom.scaleBy=function(selection,k,p,event){zoom.scaleTo(selection,(function(){return this.__zoom.k*("function"==typeof k?k.apply(this,arguments):k)}),p,event)},zoom.scaleTo=function(selection,k,p,event){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t0=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p,p1=t0.invert(p0),k1="function"==typeof k?k.apply(this,arguments):k;return constrain(translate(scale(t0,k1),p0,p1),e,translateExtent)}),p,event)},zoom.translateBy=function(selection,x,y,event){zoom.transform(selection,(function(){return constrain(this.__zoom.translate("function"==typeof x?x.apply(this,arguments):x,"function"==typeof y?y.apply(this,arguments):y),extent.apply(this,arguments),translateExtent)}),null,event)},zoom.translateTo=function(selection,x,y,p,event){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p;return constrain(transform_identity.translate(p0[0],p0[1]).scale(t.k).translate("function"==typeof x?-x.apply(this,arguments):-x,"function"==typeof y?-y.apply(this,arguments):-y),e,translateExtent)}),p,event)},Gesture.prototype={event:function(event){return event&&(this.sourceEvent=event),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(key,transform){return this.mouse&&"mouse"!==key&&(this.mouse[1]=transform.invert(this.mouse[0])),this.touch0&&"touch"!==key&&(this.touch0[1]=transform.invert(this.touch0[0])),this.touch1&&"touch"!==key&&(this.touch1[1]=transform.invert(this.touch1[0])),this.that.__zoom=transform,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(type){var d=(0,src_select.Z)(this.that).datum();listeners.call(type,this.that,new ZoomEvent(type,{sourceEvent:this.sourceEvent,target:zoom,type,transform:this.that.__zoom,dispatch:listeners}),d)}},zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"==typeof _?_:d3_zoom_src_constant(+_),zoom):wheelDelta},zoom.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):filter},zoom.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):touchable},zoom.extent=function(_){return arguments.length?(extent="function"==typeof _?_:d3_zoom_src_constant([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]},zoom.translateExtent=function(_){return arguments.length?(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],translateExtent[1][1]]]},zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate},zoom.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?zoom:value},zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)},zoom.tapDistance=function(_){return arguments.length?(tapDistance=+_,zoom):tapDistance},zoom}Transform.prototype},"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>ConnectionMode,G:()=>getTransformForBounds,J:()=>_arrayLikeToArray,K:()=>_unsupportedIterableToArray,L:()=>getD3Transition,M:()=>MarkerType,N:()=>fitView,P:()=>Position,_:()=>_slicedToArray,a:()=>_defineProperty,b:()=>useStore,c:()=>addEdge,d:()=>getMarkerId,e:()=>getConnectedEdges,f:()=>getDimensions,g:()=>getHostForElement,h:()=>PanOnScrollMode,i:()=>internalsSymbol,j:()=>clamp,k:()=>getNodesInside,l:()=>getSelectionChanges,m:()=>clampPosition,n:()=>handleNodeClick,o:()=>getRectOfNodes,p:()=>pointToRendererPoint,q:()=>ConnectionLineType,r:()=>rectToBox,s:()=>isNumeric,t:()=>getMouseHandler,u:()=>useStoreApi,v:()=>Provider,w:()=>index_a12c80bd_createStore,x:()=>infiniteExtent,y:()=>applyNodeChanges,z:()=>applyEdgeChanges});var react=__webpack_require__("./node_modules/react/index.js");function createStore(createState){let state;const listeners=new Set,setState=(partial,replace)=>{const nextState="function"==typeof partial?partial(state):partial;if(nextState!==state){const previousState=state;state=replace?nextState:Object.assign({},state,nextState),listeners.forEach((listener=>listener(state,previousState)))}},getState=()=>state,api={setState,getState,subscribe:(listener,selector,equalityFn)=>selector||equalityFn?((listener,selector=getState,equalityFn=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let currentSlice=selector(state);function listenerToAdd(){const nextSlice=selector(state);if(!equalityFn(currentSlice,nextSlice)){const previousSlice=currentSlice;listener(currentSlice=nextSlice,previousSlice)}}return listeners.add(listenerToAdd),()=>listeners.delete(listenerToAdd)})(listener,selector,equalityFn):(listeners.add(listener),()=>listeners.delete(listener)),destroy:()=>listeners.clear()};return state=createState(setState,getState,api),api}const useIsomorphicLayoutEffect="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?react.useEffect:react.useLayoutEffect;function create(createState){const api="function"==typeof createState?createStore(createState):createState,useStore=(selector=api.getState,equalityFn=Object.is)=>{const[,forceUpdate]=(0,react.useReducer)((c=>c+1),0),state=api.getState(),stateRef=(0,react.useRef)(state),selectorRef=(0,react.useRef)(selector),equalityFnRef=(0,react.useRef)(equalityFn),erroredRef=(0,react.useRef)(!1),currentSliceRef=(0,react.useRef)();let newStateSlice;void 0===currentSliceRef.current&&(currentSliceRef.current=selector(state));let hasNewStateSlice=!1;(stateRef.current!==state||selectorRef.current!==selector||equalityFnRef.current!==equalityFn||erroredRef.current)&&(newStateSlice=selector(state),hasNewStateSlice=!equalityFn(currentSliceRef.current,newStateSlice)),useIsomorphicLayoutEffect((()=>{hasNewStateSlice&&(currentSliceRef.current=newStateSlice),stateRef.current=state,selectorRef.current=selector,equalityFnRef.current=equalityFn,erroredRef.current=!1}));const stateBeforeSubscriptionRef=(0,react.useRef)(state);useIsomorphicLayoutEffect((()=>{const listener=()=>{try{const nextState=api.getState(),nextStateSlice=selectorRef.current(nextState);equalityFnRef.current(currentSliceRef.current,nextStateSlice)||(stateRef.current=nextState,currentSliceRef.current=nextStateSlice,forceUpdate())}catch(error){erroredRef.current=!0,forceUpdate()}},unsubscribe=api.subscribe(listener);return api.getState()!==stateBeforeSubscriptionRef.current&&listener(),unsubscribe}),[]);const sliceToReturn=hasNewStateSlice?newStateSlice:currentSliceRef.current;return(0,react.useDebugValue)(sliceToReturn),sliceToReturn};return Object.assign(useStore,api),useStore[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const items=[useStore,api];return{next(){const done=items.length<=0;return{value:items.shift(),done}}}},useStore}var ConnectionMode,BackgroundVariant,PanOnScrollMode,ConnectionLineType,MarkerType,Position,src=__webpack_require__("./node_modules/d3-zoom/src/index.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(ConnectionMode){ConnectionMode.Strict="strict",ConnectionMode.Loose="loose"}(ConnectionMode||(ConnectionMode={})),function(BackgroundVariant){BackgroundVariant.Lines="lines",BackgroundVariant.Dots="dots"}(BackgroundVariant||(BackgroundVariant={})),function(PanOnScrollMode){PanOnScrollMode.Free="free",PanOnScrollMode.Vertical="vertical",PanOnScrollMode.Horizontal="horizontal"}(PanOnScrollMode||(PanOnScrollMode={})),function(ConnectionLineType){ConnectionLineType.Bezier="default",ConnectionLineType.Straight="straight",ConnectionLineType.Step="step",ConnectionLineType.SmoothStep="smoothstep",ConnectionLineType.SimpleBezier="simplebezier"}(ConnectionLineType||(ConnectionLineType={})),function(MarkerType){MarkerType.Arrow="arrow",MarkerType.ArrowClosed="arrowclosed"}(MarkerType||(MarkerType={})),function(Position){Position.Left="left",Position.Top="top",Position.Right="right",Position.Bottom="bottom"}(Position||(Position={}));var getDimensions=function getDimensions(node){return{width:node.offsetWidth,height:node.offsetHeight}},clamp=function clamp(val){var min=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,max=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(val,min),max)},clampPosition=function clampPosition(position,extent){return{x:clamp(position.x,extent[0][0],extent[1][0]),y:clamp(position.y,extent[0][1],extent[1][1])}},getHostForElement=function getHostForElement(element){var _element$getRootNode,_window;return(null===(_element$getRootNode=element.getRootNode)||void 0===_element$getRootNode?void 0:_element$getRootNode.call(element))||(null===(_window=window)||void 0===_window?void 0:_window.document)},getBoundsOfBoxes=function getBoundsOfBoxes(box1,box2){return{x:Math.min(box1.x,box2.x),y:Math.min(box1.y,box2.y),x2:Math.max(box1.x2,box2.x2),y2:Math.max(box1.y2,box2.y2)}},rectToBox=function rectToBox(_ref){var x=_ref.x,y=_ref.y;return{x,y,x2:x+_ref.width,y2:y+_ref.height}},boxToRect=function boxToRect(_ref2){var x=_ref2.x,y=_ref2.y;return{x,y,width:_ref2.x2-x,height:_ref2.y2-y}},isNumeric=function isNumeric(n){return!isNaN(n)&&isFinite(n)},internalsSymbol=Symbol("internals");function ownKeys$4(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$4(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$4(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$4(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function handleParentExpand(res,updateItem){var parent=res.find((function(e){return e.id===updateItem.parentNode}));if(parent){var extendWidth=updateItem.position.x+updateItem.width-parent.width,extendHeight=updateItem.position.y+updateItem.height-parent.height;if(extendWidth>0||extendHeight>0||updateItem.position.x<0||updateItem.position.y<0){var _parent$style$width,_parent$style$height;if(parent.style=_objectSpread$4({},parent.style)||{},parent.style.width=null!==(_parent$style$width=parent.style.width)&&void 0!==_parent$style$width?_parent$style$width:parent.width,parent.style.height=null!==(_parent$style$height=parent.style.height)&&void 0!==_parent$style$height?_parent$style$height:parent.height,extendWidth>0&&(parent.style.width+=extendWidth),extendHeight>0&&(parent.style.height+=extendHeight),updateItem.position.x<0){var xDiff=Math.abs(updateItem.position.x);parent.position.x=parent.position.x-xDiff,parent.style.width+=xDiff,updateItem.position.x=0}if(updateItem.position.y<0){var yDiff=Math.abs(updateItem.position.y);parent.position.y=parent.position.y-yDiff,parent.style.height+=yDiff,updateItem.position.y=0}parent.width=parent.style.width,parent.height=parent.style.height}}}function applyChanges(changes,elements){if(changes.some((function(c){return"reset"===c.type})))return changes.filter((function(c){return"reset"===c.type})).map((function(c){return c.item}));var initElements=changes.filter((function(c){return"add"===c.type})).map((function(c){return c.item}));return elements.reduce((function(res,item){var currentChange=changes.find((function(c){return c.id===item.id}));if(currentChange)switch(currentChange.type){case"select":return res.push(_objectSpread$4(_objectSpread$4({},item),{},{selected:currentChange.selected})),res;case"position":var updateItem=_objectSpread$4({},item);return void 0!==currentChange.position&&(updateItem.position=currentChange.position),void 0!==currentChange.positionAbsolute&&(updateItem.positionAbsolute=currentChange.positionAbsolute),void 0!==currentChange.dragging&&(updateItem.dragging=currentChange.dragging),updateItem.expandParent&&handleParentExpand(res,updateItem),res.push(updateItem),res;case"dimensions":var _updateItem=_objectSpread$4({},item);return void 0!==currentChange.dimensions&&(_updateItem.width=currentChange.dimensions.width,_updateItem.height=currentChange.dimensions.height),_updateItem.expandParent&&handleParentExpand(res,_updateItem),res.push(_updateItem),res;case"remove":return res}return res.push(item),res}),initElements)}function applyNodeChanges(changes,nodes){return applyChanges(changes,nodes)}function applyEdgeChanges(changes,edges){return applyChanges(changes,edges)}var createSelectionChange=function createSelectionChange(id,selected){return{id,type:"select",selected}};function getSelectionChanges(items,selectedIds){return items.reduce((function(res,item){var willBeSelected=selectedIds.includes(item.id);return!item.selected&&willBeSelected?(item.selected=!0,res.push(createSelectionChange(item.id,!0))):item.selected&&!willBeSelected&&(item.selected=!1,res.push(createSelectionChange(item.id,!1))),res}),[])}function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$3(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$3(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$3(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var getHandleBounds=function getHandleBounds(selector,nodeElement,zoom){var handles=nodeElement.querySelectorAll(selector);if(!handles||!handles.length)return null;var handlesArray=Array.from(handles),nodeBounds=nodeElement.getBoundingClientRect();return handlesArray.map((function(handle){var handleBounds=handle.getBoundingClientRect();return _objectSpread$3({id:handle.getAttribute("data-handleid"),position:handle.getAttribute("data-handlepos"),x:(handleBounds.left-nodeBounds.left)/zoom,y:(handleBounds.top-nodeBounds.top)/zoom},getDimensions(handle))}))};function getMouseHandler(id,getState,handler){return void 0===handler?handler:function(event){var node=getState().nodeInternals.get(id);handler(event,_objectSpread$3({},node))}}function handleNodeClick(_ref){var id=_ref.id,store=_ref.store,_store$getState=store.getState(),addSelectedNodes=_store$getState.addSelectedNodes,unselectNodesAndEdges=_store$getState.unselectNodesAndEdges,multiSelectionActive=_store$getState.multiSelectionActive,node=_store$getState.nodeInternals.get(id);store.setState({nodesSelectionActive:!1}),node.selected?node.selected&&multiSelectionActive&&unselectNodesAndEdges({nodes:[node]}):addSelectedNodes([id])}function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var getEdgeId=function getEdgeId(_ref){var source=_ref.source,sourceHandle=_ref.sourceHandle,target=_ref.target,targetHandle=_ref.targetHandle;return"reactflow__edge-".concat(source).concat(sourceHandle||"","-").concat(target).concat(targetHandle||"")},getMarkerId=function getMarkerId(marker,rfId){if(void 0===marker)return"";if("string"==typeof marker)return marker;var idPrefix=rfId?"".concat(rfId,"__"):"";return"".concat(idPrefix).concat(Object.keys(marker).sort().map((function(key){return"".concat(key,"=").concat(marker[key])})).join("&"))},addEdge=function addEdge(edgeParams,edges){return edgeParams.source&&edgeParams.target?function connectionExists(edge,edges){return edges.some((function(el){return!(el.source!==edge.source||el.target!==edge.target||el.sourceHandle!==edge.sourceHandle&&(el.sourceHandle||edge.sourceHandle)||el.targetHandle!==edge.targetHandle&&(el.targetHandle||edge.targetHandle))}))}(edge=function isEdge(element){return"id"in element&&"source"in element&&"target"in element}(edgeParams)?_objectSpread$2({},edgeParams):_objectSpread$2(_objectSpread$2({},edgeParams),{},{id:getEdgeId(edgeParams)}),edges)?edges:edges.concat(edge):edges;var edge},pointToRendererPoint=function pointToRendererPoint(_ref2,_ref3,snapToGrid,_ref4){var x=_ref2.x,y=_ref2.y,_ref5=_slicedToArray(_ref3,3),tx=_ref5[0],ty=_ref5[1],tScale=_ref5[2],_ref6=_slicedToArray(_ref4,2),snapX=_ref6[0],snapY=_ref6[1],position={x:(x-tx)/tScale,y:(y-ty)/tScale};return snapToGrid?{x:snapX*Math.round(position.x/snapX),y:snapY*Math.round(position.y/snapY)}:position},getRectOfNodes=function getRectOfNodes(nodes){if(0===nodes.length)return{x:0,y:0,width:0,height:0};var box=nodes.reduce((function(currBox,_ref7){var positionAbsolute=_ref7.positionAbsolute,position=_ref7.position,width=_ref7.width,height=_ref7.height;return getBoundsOfBoxes(currBox,rectToBox({x:positionAbsolute?positionAbsolute.x:position.x,y:positionAbsolute?positionAbsolute.y:position.y,width:width||0,height:height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return boxToRect(box)},getNodesInside=function getNodesInside(nodeInternals,rect){var _ref9=_slicedToArray(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],3),tx=_ref9[0],ty=_ref9[1],tScale=_ref9[2],partially=arguments.length>3&&void 0!==arguments[3]&&arguments[3],excludeNonSelectableNodes=arguments.length>4&&void 0!==arguments[4]&&arguments[4],rBox=rectToBox({x:(rect.x-tx)/tScale,y:(rect.y-ty)/tScale,width:rect.width/tScale,height:rect.height/tScale}),visibleNodes=[];return nodeInternals.forEach((function(node){var positionAbsolute=node.positionAbsolute,width=node.width,height=node.height,_node$selectable=node.selectable;if(excludeNonSelectableNodes&&!(void 0===_node$selectable||_node$selectable))return!1;var nBox=rectToBox(_objectSpread$2(_objectSpread$2({},positionAbsolute),{},{width:width||0,height:height||0})),xOverlap=Math.max(0,Math.min(rBox.x2,nBox.x2)-Math.max(rBox.x,nBox.x)),yOverlap=Math.max(0,Math.min(rBox.y2,nBox.y2)-Math.max(rBox.y,nBox.y)),overlappingArea=Math.ceil(xOverlap*yOverlap);(void 0===width||void 0===height||null===width||null===height||partially&&overlappingArea>0||overlappingArea>=(width||0)*(height||0))&&visibleNodes.push(node)})),visibleNodes},getConnectedEdges=function getConnectedEdges(nodes,edges){var nodeIds=nodes.map((function(node){return node.id}));return edges.filter((function(edge){return nodeIds.includes(edge.source)||nodeIds.includes(edge.target)}))},getTransformForBounds=function getTransformForBounds(bounds,width,height,minZoom,maxZoom){var padding=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,xZoom=width/(bounds.width*(1+padding)),yZoom=height/(bounds.height*(1+padding)),zoom=Math.min(xZoom,yZoom),clampedZoom=clamp(zoom,minZoom,maxZoom);return[width/2-(bounds.x+bounds.width/2)*clampedZoom,height/2-(bounds.y+bounds.height/2)*clampedZoom,clampedZoom]},getD3Transition=function getD3Transition(selection){var duration=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return selection.transition().duration(duration)};function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function calculateXYZPosition(node,nodeInternals,parentNodes,result){var _result$x,_parentNode$position$,_parentNode$position,_result$y,_parentNode$position$2,_parentNode$position2,_parentNode$internals,_parentNode$internals2,_result$z,_parentNode$internals3,_parentNode$internals4,_result$z2;if(!node.parentNode)return result;var parentNode=nodeInternals.get(node.parentNode);return calculateXYZPosition(parentNode,nodeInternals,parentNodes,{x:(null!==(_result$x=result.x)&&void 0!==_result$x?_result$x:0)+(null!==(_parentNode$position$=null===(_parentNode$position=parentNode.position)||void 0===_parentNode$position?void 0:_parentNode$position.x)&&void 0!==_parentNode$position$?_parentNode$position$:0),y:(null!==(_result$y=result.y)&&void 0!==_result$y?_result$y:0)+(null!==(_parentNode$position$2=null===(_parentNode$position2=parentNode.position)||void 0===_parentNode$position2?void 0:_parentNode$position2.y)&&void 0!==_parentNode$position$2?_parentNode$position$2:0),z:(null!==(_parentNode$internals=null===(_parentNode$internals2=parentNode[internalsSymbol])||void 0===_parentNode$internals2?void 0:_parentNode$internals2.z)&&void 0!==_parentNode$internals?_parentNode$internals:0)>(null!==(_result$z=result.z)&&void 0!==_result$z?_result$z:0)?null!==(_parentNode$internals3=null===(_parentNode$internals4=parentNode[internalsSymbol])||void 0===_parentNode$internals4?void 0:_parentNode$internals4.z)&&void 0!==_parentNode$internals3?_parentNode$internals3:0:null!==(_result$z2=result.z)&&void 0!==_result$z2?_result$z2:0})}function createNodeInternals(nodes,nodeInternals){var nextNodeInternals=new Map,parentNodes={};return nodes.forEach((function(node){var _currInternals$intern,z=isNumeric(node.zIndex)?node.zIndex:node.selected?1e3:0,currInternals=nodeInternals.get(node.id),internals=_objectSpread$1(_objectSpread$1({width:null==currInternals?void 0:currInternals.width,height:null==currInternals?void 0:currInternals.height},node),{},{positionAbsolute:{x:node.position.x,y:node.position.y}});node.parentNode&&(internals.parentNode=node.parentNode,parentNodes[node.parentNode]=!0),Object.defineProperty(internals,internalsSymbol,{enumerable:!1,value:{handleBounds:null==currInternals||null===(_currInternals$intern=currInternals[internalsSymbol])||void 0===_currInternals$intern?void 0:_currInternals$intern.handleBounds,z}}),nextNodeInternals.set(node.id,internals)})),nextNodeInternals.forEach((function(node){if(node.parentNode&&!nextNodeInternals.has(node.parentNode))throw new Error("Parent node ".concat(node.parentNode," not found"));if(node.parentNode||parentNodes[node.id]){var _node$internalsSymbol,_node$internalsSymbol2,_calculateXYZPosition=calculateXYZPosition(node,nextNodeInternals,parentNodes,_objectSpread$1(_objectSpread$1({},node.position),{},{z:null!==(_node$internalsSymbol=null===(_node$internalsSymbol2=node[internalsSymbol])||void 0===_node$internalsSymbol2?void 0:_node$internalsSymbol2.z)&&void 0!==_node$internalsSymbol?_node$internalsSymbol:0})),x=_calculateXYZPosition.x,y=_calculateXYZPosition.y,z=_calculateXYZPosition.z;node.positionAbsolute={x,y},node[internalsSymbol].z=z,parentNodes[node.id]&&(node[internalsSymbol].isParent=!0)}})),nextNodeInternals}function fitView(get){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_get=get(),nodeInternals=_get.nodeInternals,width=_get.width,height=_get.height,minZoom=_get.minZoom,maxZoom=_get.maxZoom,d3Zoom=_get.d3Zoom,d3Selection=_get.d3Selection,fitViewOnInitDone=_get.fitViewOnInitDone,fitViewOnInit=_get.fitViewOnInit;if((options.initial&&!fitViewOnInitDone&&fitViewOnInit||!options.initial)&&d3Zoom&&d3Selection){var nodes=Array.from(nodeInternals.values()).filter((function(n){return options.includeHiddenNodes?n.width&&n.height:!n.hidden})),nodesInitialized=nodes.every((function(n){return n.width&&n.height}));if(nodes.length>0&&nodesInitialized){var _options$minZoom,_options$maxZoom,_options$padding,bounds=getRectOfNodes(nodes),_getTransformForBound2=_slicedToArray(getTransformForBounds(bounds,width,height,null!==(_options$minZoom=options.minZoom)&&void 0!==_options$minZoom?_options$minZoom:minZoom,null!==(_options$maxZoom=options.maxZoom)&&void 0!==_options$maxZoom?_options$maxZoom:maxZoom,null!==(_options$padding=options.padding)&&void 0!==_options$padding?_options$padding:.1),3),x=_getTransformForBound2[0],y=_getTransformForBound2[1],zoom=_getTransformForBound2[2],nextTransform=src.CR.translate(x,y).scale(zoom);return"number"==typeof options.duration&&options.duration>0?d3Zoom.transform(getD3Transition(d3Selection,options.duration),nextTransform):d3Zoom.transform(d3Selection,nextTransform),!0}}return!1}function handleControlledNodeSelectionChange(nodeChanges,nodeInternals){return nodeChanges.forEach((function(change){var _objectSpread2,node=nodeInternals.get(change.id);node&&nodeInternals.set(node.id,_objectSpread$1(_objectSpread$1({},node),{},(_defineProperty(_objectSpread2={},internalsSymbol,node[internalsSymbol]),_defineProperty(_objectSpread2,"selected",change.selected),_objectSpread2)))})),new Map(nodeInternals)}function handleControlledEdgeSelectionChange(edgeChanges,edges){return edges.map((function(e){var change=edgeChanges.find((function(change){return change.id===e.id}));return change&&(e.selected=change.selected),e}))}function updateNodesAndEdgesSelections(_ref){var changedNodes=_ref.changedNodes,changedEdges=_ref.changedEdges,get=_ref.get,set=_ref.set,_get2=get(),nodeInternals=_get2.nodeInternals,edges=_get2.edges,onNodesChange=_get2.onNodesChange,onEdgesChange=_get2.onEdgesChange,hasDefaultNodes=_get2.hasDefaultNodes,hasDefaultEdges=_get2.hasDefaultEdges;null!=changedNodes&&changedNodes.length&&(hasDefaultNodes&&set({nodeInternals:handleControlledNodeSelectionChange(changedNodes,nodeInternals)}),null==onNodesChange||onNodesChange(changedNodes)),null!=changedEdges&&changedEdges.length&&(hasDefaultEdges&&set({edges:handleControlledEdgeSelectionChange(changedEdges,edges)}),null==onEdgesChange||onEdgesChange(changedEdges))}var infiniteExtent=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],initialState={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:infiniteExtent,nodeExtent:infiniteExtent,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:ConnectionMode.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.17",connectionStartHandle:null,connectOnClick:!0};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var _createContext=function createContext(){const ZustandContext=(0,react.createContext)(void 0);return{Provider:({initialStore,createStore,children})=>{const storeRef=(0,react.useRef)();return storeRef.current||(initialStore&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),createStore||(createStore=()=>initialStore)),storeRef.current=createStore()),(0,react.createElement)(ZustandContext.Provider,{value:storeRef.current},children)},useStore:(selector,equalityFn=Object.is)=>{const useProviderStore=(0,react.useContext)(ZustandContext);if(!useProviderStore)throw new Error("Seems like you have not used zustand provider as an ancestor.");return useProviderStore(selector,equalityFn)},useStoreApi:()=>{const useProviderStore=(0,react.useContext)(ZustandContext);if(!useProviderStore)throw new Error("Seems like you have not used zustand provider as an ancestor.");return(0,react.useMemo)((()=>({getState:useProviderStore.getState,setState:useProviderStore.setState,subscribe:useProviderStore.subscribe,destroy:useProviderStore.destroy})),[useProviderStore])}}}(),Provider=_createContext.Provider,useStore=_createContext.useStore,useStoreApi=_createContext.useStoreApi,index_a12c80bd_createStore=function createStore(){return create((function(set,get){return _objectSpread(_objectSpread({},initialState),{},{setNodes:function setNodes(nodes){set({nodeInternals:createNodeInternals(nodes,get().nodeInternals)})},setEdges:function setEdges(edges){var _get$defaultEdgeOptio=get().defaultEdgeOptions,defaultEdgeOptions=void 0===_get$defaultEdgeOptio?{}:_get$defaultEdgeOptio;set({edges:edges.map((function(e){return _objectSpread(_objectSpread({},defaultEdgeOptions),e)}))})},setDefaultNodesAndEdges:function setDefaultNodesAndEdges(nodes,edges){var hasDefaultNodes=void 0!==nodes,hasDefaultEdges=void 0!==edges,nodeInternals=hasDefaultNodes?createNodeInternals(nodes,new Map):new Map;set({nodeInternals,edges:hasDefaultEdges?edges:[],hasDefaultNodes,hasDefaultEdges})},updateNodeDimensions:function updateNodeDimensions(updates){var _get2=get(),onNodesChange=_get2.onNodesChange,nodeInternals=_get2.nodeInternals,fitViewOnInit=_get2.fitViewOnInit,fitViewOnInitDone=_get2.fitViewOnInitDone,fitViewOnInitOptions=_get2.fitViewOnInitOptions,domNode=_get2.domNode,viewportNode=null==domNode?void 0:domNode.querySelector(".react-flow__viewport");if(viewportNode){var style=window.getComputedStyle(viewportNode),zoom=new window.DOMMatrixReadOnly(style.transform).m22,changes=updates.reduce((function(res,update){var node=nodeInternals.get(update.id);if(node){var dimensions=getDimensions(update.nodeElement);!(!dimensions.width||!dimensions.height||node.width===dimensions.width&&node.height===dimensions.height&&!update.forceUpdate)&&(nodeInternals.set(node.id,_objectSpread(_objectSpread({},node),{},_defineProperty({},internalsSymbol,_objectSpread(_objectSpread({},node[internalsSymbol]),{},{handleBounds:{source:getHandleBounds(".source",update.nodeElement,zoom),target:getHandleBounds(".target",update.nodeElement,zoom)}})),dimensions)),res.push({id:node.id,type:"dimensions",dimensions}))}return res}),[]),nextFitViewOnInitDone=fitViewOnInitDone||fitViewOnInit&&!fitViewOnInitDone&&fitView(get,_objectSpread({initial:!0},fitViewOnInitOptions));set({nodeInternals:new Map(nodeInternals),fitViewOnInitDone:nextFitViewOnInitDone}),(null==changes?void 0:changes.length)>0&&(null==onNodesChange||onNodesChange(changes))}},updateNodePositions:function updateNodePositions(nodeDragItems){var positionChanged=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],dragging=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_get3=get(),onNodesChange=_get3.onNodesChange,nodeInternals=_get3.nodeInternals,hasDefaultNodes=_get3.hasDefaultNodes;if(hasDefaultNodes||onNodesChange){var changes=nodeDragItems.map((function(node){var change={id:node.id,type:"position",dragging};return positionChanged&&(change.positionAbsolute=node.positionAbsolute,change.position=node.position),change}));if(null!=changes&&changes.length){if(hasDefaultNodes){var nextNodeInternals=createNodeInternals(applyNodeChanges(changes,Array.from(nodeInternals.values())),nodeInternals);set({nodeInternals:nextNodeInternals})}null==onNodesChange||onNodesChange(changes)}}},addSelectedNodes:function addSelectedNodes(selectedNodeIds){var changedNodes,_get4=get(),multiSelectionActive=_get4.multiSelectionActive,nodeInternals=_get4.nodeInternals,edges=_get4.edges,changedEdges=null;multiSelectionActive?changedNodes=selectedNodeIds.map((function(nodeId){return createSelectionChange(nodeId,!0)})):(changedNodes=getSelectionChanges(Array.from(nodeInternals.values()),selectedNodeIds),changedEdges=getSelectionChanges(edges,[])),updateNodesAndEdgesSelections({changedNodes,changedEdges,get,set})},addSelectedEdges:function addSelectedEdges(selectedEdgeIds){var changedEdges,_get5=get(),multiSelectionActive=_get5.multiSelectionActive,edges=_get5.edges,nodeInternals=_get5.nodeInternals,changedNodes=null;multiSelectionActive?changedEdges=selectedEdgeIds.map((function(edgeId){return createSelectionChange(edgeId,!0)})):(changedEdges=getSelectionChanges(edges,selectedEdgeIds),changedNodes=getSelectionChanges(Array.from(nodeInternals.values()),[])),updateNodesAndEdgesSelections({changedNodes,changedEdges,get,set})},unselectNodesAndEdges:function unselectNodesAndEdges(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nodes=_ref.nodes,edges=_ref.edges,_get6=get(),nodeInternals=_get6.nodeInternals,storeEdges=_get6.edges,edgesToUnselect=edges||storeEdges;updateNodesAndEdgesSelections({changedNodes:(nodes||Array.from(nodeInternals.values())).map((function(n){return n.selected=!1,createSelectionChange(n.id,!1)})),changedEdges:edgesToUnselect.map((function(edge){return createSelectionChange(edge.id,!1)})),get,set})},setMinZoom:function setMinZoom(minZoom){var _get7=get(),d3Zoom=_get7.d3Zoom,maxZoom=_get7.maxZoom;null==d3Zoom||d3Zoom.scaleExtent([minZoom,maxZoom]),set({minZoom})},setMaxZoom:function setMaxZoom(maxZoom){var _get8=get(),d3Zoom=_get8.d3Zoom,minZoom=_get8.minZoom;null==d3Zoom||d3Zoom.scaleExtent([minZoom,maxZoom]),set({maxZoom})},setTranslateExtent:function setTranslateExtent(translateExtent){var d3Zoom=get().d3Zoom;null==d3Zoom||d3Zoom.translateExtent(translateExtent),set({translateExtent})},resetSelectedElements:function resetSelectedElements(){var _get10=get(),nodeInternals=_get10.nodeInternals,edges=_get10.edges;updateNodesAndEdgesSelections({changedNodes:Array.from(nodeInternals.values()).filter((function(e){return e.selected})).map((function(n){return createSelectionChange(n.id,!1)})),changedEdges:edges.filter((function(e){return e.selected})).map((function(e){return createSelectionChange(e.id,!1)})),get,set})},setNodeExtent:function setNodeExtent(nodeExtent){var nodeInternals=get().nodeInternals;nodeInternals.forEach((function(node){node.positionAbsolute=clampPosition(node.position,nodeExtent)})),set({nodeExtent,nodeInternals:new Map(nodeInternals)})},reset:function reset(){return set(_objectSpread({},initialState))}})}))}},"./node_modules/react-flow-renderer/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HH:()=>Handle$1});var index_a12c80bd=__webpack_require__("./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js"),react=__webpack_require__("./node_modules/react/index.js");function cc(names){if("string"==typeof names||"number"==typeof names)return""+names;let out="";if(Array.isArray(names))for(let tmp,i=0;i<names.length;i++)""!==(tmp=cc(names[i]))&&(out+=(out&&" ")+tmp);else for(let k in names)names[k]&&(out+=(out&&" ")+k);return out}var src=__webpack_require__("./node_modules/d3-zoom/src/index.js");function shallow(objA,objB){if(Object.is(objA,objB))return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;const keysA=Object.keys(objA);if(keysA.length!==Object.keys(objB).length)return!1;for(let i=0;i<keysA.length;i++)if(!Object.prototype.hasOwnProperty.call(objB,keysA[i])||!Object.is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,index_a12c80bd.J)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,index_a12c80bd.K)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var initialViewportHelper={zoomIn:function zoomIn(){},zoomOut:function zoomOut(){},zoomTo:function zoomTo(_){},getZoom:function getZoom(){return 1},setViewport:function setViewport(_){},getViewport:function getViewport(){return{x:0,y:0,zoom:1}},fitView:function fitView(){},setCenter:function setCenter(_,__){},fitBounds:function fitBounds(_){},project:function project(position){return position},viewportInitialized:!1},selector=function selector(s){return{d3Zoom:s.d3Zoom,d3Selection:s.d3Selection}},useViewportHelper=function useViewportHelper(){var store=(0,index_a12c80bd.u)(),_useStore=(0,index_a12c80bd.b)(selector,shallow),d3Zoom=_useStore.d3Zoom,d3Selection=_useStore.d3Selection;return(0,react.useMemo)((function(){return d3Selection&&d3Zoom?{zoomIn:function zoomIn(options){return d3Zoom.scaleBy((0,index_a12c80bd.L)(d3Selection,null==options?void 0:options.duration),1.2)},zoomOut:function zoomOut(options){return d3Zoom.scaleBy((0,index_a12c80bd.L)(d3Selection,null==options?void 0:options.duration),1/1.2)},zoomTo:function zoomTo(zoomLevel,options){return d3Zoom.scaleTo((0,index_a12c80bd.L)(d3Selection,null==options?void 0:options.duration),zoomLevel)},getZoom:function getZoom(){return store.getState().transform[2]},setViewport:function setViewport(transform,options){var _transform$x,_transform$y,_transform$zoom,_store$getState$trans=(0,index_a12c80bd._)(store.getState().transform,3),x=_store$getState$trans[0],y=_store$getState$trans[1],zoom=_store$getState$trans[2],nextTransform=src.CR.translate(null!==(_transform$x=transform.x)&&void 0!==_transform$x?_transform$x:x,null!==(_transform$y=transform.y)&&void 0!==_transform$y?_transform$y:y).scale(null!==(_transform$zoom=transform.zoom)&&void 0!==_transform$zoom?_transform$zoom:zoom);d3Zoom.transform((0,index_a12c80bd.L)(d3Selection,null==options?void 0:options.duration),nextTransform)},getViewport:function getViewport(){var _store$getState$trans2=(0,index_a12c80bd._)(store.getState().transform,3);return{x:_store$getState$trans2[0],y:_store$getState$trans2[1],zoom:_store$getState$trans2[2]}},fitView:function fitView$1(options){return(0,index_a12c80bd.N)(store.getState,options)},setCenter:function setCenter(x,y,options){var _store$getState=store.getState(),width=_store$getState.width,height=_store$getState.height,maxZoom=_store$getState.maxZoom,nextZoom=void 0!==(null==options?void 0:options.zoom)?options.zoom:maxZoom,centerX=width/2-x*nextZoom,centerY=height/2-y*nextZoom,transform=src.CR.translate(centerX,centerY).scale(nextZoom);d3Zoom.transform((0,index_a12c80bd.L)(d3Selection,null==options?void 0:options.duration),transform)},fitBounds:function fitBounds(bounds,options){var _options$padding,_store$getState2=store.getState(),width=_store$getState2.width,height=_store$getState2.height,minZoom=_store$getState2.minZoom,maxZoom=_store$getState2.maxZoom,_getTransformForBound=(0,index_a12c80bd.G)(bounds,width,height,minZoom,maxZoom,null!==(_options$padding=null==options?void 0:options.padding)&&void 0!==_options$padding?_options$padding:.1),_getTransformForBound2=(0,index_a12c80bd._)(_getTransformForBound,3),x=_getTransformForBound2[0],y=_getTransformForBound2[1],zoom=_getTransformForBound2[2],transform=src.CR.translate(x,y).scale(zoom);d3Zoom.transform((0,index_a12c80bd.L)(d3Selection,null==options?void 0:options.duration),transform)},project:function project(position){var _store$getState3=store.getState(),transform=_store$getState3.transform,snapToGrid=_store$getState3.snapToGrid,snapGrid=_store$getState3.snapGrid;return(0,index_a12c80bd.p)(position,transform,snapToGrid,snapGrid)},viewportInitialized:!0}:initialViewportHelper}),[d3Zoom,d3Selection])};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function useReactFlow(){var viewportHelper=useViewportHelper(),store=(0,index_a12c80bd.u)(),getNodes=(0,react.useCallback)((function(){var nodeInternals=store.getState().nodeInternals;return Array.from(nodeInternals.values()).map((function(n){return _objectSpread({},n)}))}),[]),getNode=(0,react.useCallback)((function(id){return store.getState().nodeInternals.get(id)}),[]),getEdges=(0,react.useCallback)((function(){var _store$getState3$edge=store.getState().edges;return(void 0===_store$getState3$edge?[]:_store$getState3$edge).map((function(e){return _objectSpread({},e)}))}),[]),getEdge=(0,react.useCallback)((function(id){var _store$getState4$edge=store.getState().edges;return(void 0===_store$getState4$edge?[]:_store$getState4$edge).find((function(e){return e.id===id}))}),[]),setNodes=(0,react.useCallback)((function(payload){var _store$getState5=store.getState(),nodeInternals=_store$getState5.nodeInternals,setNodes=_store$getState5.setNodes,hasDefaultNodes=_store$getState5.hasDefaultNodes,onNodesChange=_store$getState5.onNodesChange,nodes=Array.from(nodeInternals.values()),nextNodes="function"==typeof payload?payload(nodes):payload;if(hasDefaultNodes)setNodes(nextNodes);else if(onNodesChange){onNodesChange(0===nextNodes.length?nodes.map((function(node){return{type:"remove",id:node.id}})):nextNodes.map((function(node){return{item:node,type:"reset"}})))}}),[]),setEdges=(0,react.useCallback)((function(payload){var _store$getState6=store.getState(),_store$getState6$edge=_store$getState6.edges,edges=void 0===_store$getState6$edge?[]:_store$getState6$edge,setEdges=_store$getState6.setEdges,hasDefaultEdges=_store$getState6.hasDefaultEdges,onEdgesChange=_store$getState6.onEdgesChange,nextEdges="function"==typeof payload?payload(edges):payload;if(hasDefaultEdges)setEdges(nextEdges);else if(onEdgesChange){onEdgesChange(0===nextEdges.length?edges.map((function(edge){return{type:"remove",id:edge.id}})):nextEdges.map((function(edge){return{item:edge,type:"reset"}})))}}),[]),addNodes=(0,react.useCallback)((function(payload){var nodes=Array.isArray(payload)?payload:[payload],_store$getState7=store.getState(),nodeInternals=_store$getState7.nodeInternals,setNodes=_store$getState7.setNodes,hasDefaultNodes=_store$getState7.hasDefaultNodes,onNodesChange=_store$getState7.onNodesChange;if(hasDefaultNodes){var currentNodes=Array.from(nodeInternals.values());setNodes([].concat(currentNodes,_toConsumableArray(nodes)))}else if(onNodesChange){onNodesChange(nodes.map((function(node){return{item:node,type:"add"}})))}}),[]),addEdges=(0,react.useCallback)((function(payload){var nextEdges=Array.isArray(payload)?payload:[payload],_store$getState8=store.getState(),_store$getState8$edge=_store$getState8.edges,edges=void 0===_store$getState8$edge?[]:_store$getState8$edge,setEdges=_store$getState8.setEdges,hasDefaultEdges=_store$getState8.hasDefaultEdges,onEdgesChange=_store$getState8.onEdgesChange;if(hasDefaultEdges)setEdges([].concat(_toConsumableArray(edges),_toConsumableArray(nextEdges)));else if(onEdgesChange){onEdgesChange(nextEdges.map((function(edge){return{item:edge,type:"add"}})))}}),[]),toObject=(0,react.useCallback)((function(){var _store$getState9=store.getState(),nodeInternals=_store$getState9.nodeInternals,_store$getState9$edge=_store$getState9.edges,edges=void 0===_store$getState9$edge?[]:_store$getState9$edge,transform=_store$getState9.transform,nodes=Array.from(nodeInternals.values()),_transform=(0,index_a12c80bd._)(transform,3),x=_transform[0],y=_transform[1],zoom=_transform[2];return{nodes:nodes.map((function(n){return _objectSpread({},n)})),edges:edges.map((function(e){return _objectSpread({},e)})),viewport:{x,y,zoom}}}),[]);return(0,react.useMemo)((function(){return _objectSpread(_objectSpread({},viewportHelper),{},{getNodes,getNode,getEdges,getEdge,setNodes,setEdges,addNodes,addEdges,toObject})}),[viewportHelper,getNodes,getNode,getEdges,getEdge,setNodes,setEdges,addNodes,addEdges,toObject])}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function PlusIcon(){return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},react.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function MinusIcon(){return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},react.createElement("path",{d:"M0 0h32v4.2H0z"}))}function FitViewIcon(){return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},react.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function LockIcon(){return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},react.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function UnlockIcon(){return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},react.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var _excluded=["children","className"];function index_20df97c0_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var ControlButton=function ControlButton(_ref){var children=_ref.children,className=_ref.className,rest=_objectWithoutProperties(_ref,_excluded);return react.createElement("button",function index_20df97c0_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?index_20df97c0_ownKeys(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):index_20df97c0_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({type:"button",className:cc(["react-flow__controls-button",className])},rest),children)},isInteractiveSelector=function isInteractiveSelector(s){return s.nodesDraggable&&s.nodesConnectable&&s.elementsSelectable},Controls=function Controls(_ref2){var style=_ref2.style,_ref2$showZoom=_ref2.showZoom,showZoom=void 0===_ref2$showZoom||_ref2$showZoom,_ref2$showFitView=_ref2.showFitView,showFitView=void 0===_ref2$showFitView||_ref2$showFitView,_ref2$showInteractive=_ref2.showInteractive,showInteractive=void 0===_ref2$showInteractive||_ref2$showInteractive,fitViewOptions=_ref2.fitViewOptions,onZoomIn=_ref2.onZoomIn,onZoomOut=_ref2.onZoomOut,onFitView=_ref2.onFitView,onInteractiveChange=_ref2.onInteractiveChange,className=_ref2.className,children=_ref2.children,store=(0,index_a12c80bd.u)(),_useState=(0,react.useState)(!1),_useState2=(0,index_a12c80bd._)(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1],isInteractive=(0,index_a12c80bd.b)(isInteractiveSelector),_useReactFlow=useReactFlow(),zoomIn=_useReactFlow.zoomIn,zoomOut=_useReactFlow.zoomOut,fitView=_useReactFlow.fitView;if((0,react.useEffect)((function(){setIsVisible(!0)}),[]),!isVisible)return null;return react.createElement("div",{className:cc(["react-flow__controls",className]),style},showZoom&&react.createElement(react.Fragment,null,react.createElement(ControlButton,{onClick:function onZoomInHandler(){null==zoomIn||zoomIn(),null==onZoomIn||onZoomIn()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in"},react.createElement(PlusIcon,null)),react.createElement(ControlButton,{onClick:function onZoomOutHandler(){null==zoomOut||zoomOut(),null==onZoomOut||onZoomOut()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out"},react.createElement(MinusIcon,null))),showFitView&&react.createElement(ControlButton,{className:"react-flow__controls-fitview",onClick:function onFitViewHandler(){null==fitView||fitView(fitViewOptions),null==onFitView||onFitView()},title:"fit view","aria-label":"fit view"},react.createElement(FitViewIcon,null)),showInteractive&&react.createElement(ControlButton,{className:"react-flow__controls-interactive",onClick:function onToggleInteractivity(){store.setState({nodesDraggable:!isInteractive,nodesConnectable:!isInteractive,elementsSelectable:!isInteractive}),null==onInteractiveChange||onInteractiveChange(!isInteractive)},title:"toggle interactivity","aria-label":"toggle interactivity"},isInteractive?react.createElement(UnlockIcon,null):react.createElement(LockIcon,null)),children)};Controls.displayName="Controls";var src_select=__webpack_require__("./node_modules/d3-selection/src/select.js"),pointer=__webpack_require__("./node_modules/d3-selection/src/pointer.js"),dispatch=__webpack_require__("./node_modules/d3-dispatch/src/dispatch.js"),nodrag=__webpack_require__("./node_modules/d3-drag/src/nodrag.js"),noevent=__webpack_require__("./node_modules/d3-drag/src/noevent.js");const constant=x=>()=>x;function DragEvent(type,{sourceEvent,subject,target,identifier,active,x,y,dx,dy,dispatch}){Object.defineProperties(this,{type:{value:type,enumerable:!0,configurable:!0},sourceEvent:{value:sourceEvent,enumerable:!0,configurable:!0},subject:{value:subject,enumerable:!0,configurable:!0},target:{value:target,enumerable:!0,configurable:!0},identifier:{value:identifier,enumerable:!0,configurable:!0},active:{value:active,enumerable:!0,configurable:!0},x:{value:x,enumerable:!0,configurable:!0},y:{value:y,enumerable:!0,configurable:!0},dx:{value:dx,enumerable:!0,configurable:!0},dy:{value:dy,enumerable:!0,configurable:!0},_:{value:dispatch}})}function defaultFilter(event){return!event.ctrlKey&&!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(event,d){return null==d?{x:event.x,y:event.y}:d}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}DragEvent.prototype.on=function(){var value=this._.on.apply(this._,arguments);return value===this._?this:value};var accounts=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function Attribution(_ref){var proOptions=_ref.proOptions,_ref$position=_ref.position,position=void 0===_ref$position?"bottom-right":_ref$position;if(null!=proOptions&&proOptions.account&&accounts.includes(null==proOptions?void 0:proOptions.account)&&null!=proOptions&&proOptions.hideAttribution)return null;var positionClasses="".concat(position).split("-");return react.createElement("div",{className:cc(["react-flow__attribution"].concat(_toConsumableArray(positionClasses))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},react.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var _excluded$2=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function ownKeys$c(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var EdgeText=function EdgeText(_ref){var x=_ref.x,y=_ref.y,label=_ref.label,_ref$labelStyle=_ref.labelStyle,labelStyle=void 0===_ref$labelStyle?{}:_ref$labelStyle,_ref$labelShowBg=_ref.labelShowBg,labelShowBg=void 0===_ref$labelShowBg||_ref$labelShowBg,_ref$labelBgStyle=_ref.labelBgStyle,labelBgStyle=void 0===_ref$labelBgStyle?{}:_ref$labelBgStyle,_ref$labelBgPadding=_ref.labelBgPadding,labelBgPadding=void 0===_ref$labelBgPadding?[2,4]:_ref$labelBgPadding,_ref$labelBgBorderRad=_ref.labelBgBorderRadius,labelBgBorderRadius=void 0===_ref$labelBgBorderRad?2:_ref$labelBgBorderRad,children=_ref.children,className=_ref.className,rest=_objectWithoutProperties(_ref,_excluded$2),edgeRef=(0,react.useRef)(null),_useState=(0,react.useState)({x:0,y:0,width:0,height:0}),_useState2=(0,index_a12c80bd._)(_useState,2),edgeTextBbox=_useState2[0],setEdgeTextBbox=_useState2[1],edgeTextClasses=cc(["react-flow__edge-textwrapper",className]);return(0,react.useEffect)((function(){if(edgeRef.current){var textBbox=edgeRef.current.getBBox();setEdgeTextBbox({x:textBbox.x,y:textBbox.y,width:textBbox.width,height:textBbox.height})}}),[label]),void 0!==label&&label?react.createElement("g",function _objectSpread$c(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$c(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$c(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({transform:"translate(".concat(x-edgeTextBbox.width/2," ").concat(y-edgeTextBbox.height/2,")"),className:edgeTextClasses},rest),labelShowBg&&react.createElement("rect",{width:edgeTextBbox.width+2*labelBgPadding[0],x:-labelBgPadding[0],y:-labelBgPadding[1],height:edgeTextBbox.height+2*labelBgPadding[1],className:"react-flow__edge-textbg",style:labelBgStyle,rx:labelBgBorderRadius,ry:labelBgBorderRadius}),react.createElement("text",{className:"react-flow__edge-text",y:edgeTextBbox.height/2,dy:"0.3em",ref:edgeRef,style:labelStyle},label),children):null},EdgeText$1=(0,react.memo)(EdgeText),BaseEdge=function(_ref){var path=_ref.path,centerX=_ref.centerX,centerY=_ref.centerY,label=_ref.label,labelStyle=_ref.labelStyle,labelShowBg=_ref.labelShowBg,labelBgStyle=_ref.labelBgStyle,labelBgPadding=_ref.labelBgPadding,labelBgBorderRadius=_ref.labelBgBorderRadius,style=_ref.style,markerEnd=_ref.markerEnd,markerStart=_ref.markerStart,text=label?react.createElement(EdgeText$1,{x:centerX,y:centerY,label,labelStyle,labelShowBg,labelBgStyle,labelBgPadding,labelBgBorderRadius}):null;return react.createElement(react.Fragment,null,react.createElement("path",{style,d:path,className:"react-flow__edge-path",markerEnd,markerStart}),text)};function getControl(_ref){var ctX,ctY,pos=_ref.pos,x1=_ref.x1,y1=_ref.y1,x2=_ref.x2,y2=_ref.y2;switch(pos){case index_a12c80bd.P.Left:case index_a12c80bd.P.Right:ctX=.5*(x1+x2),ctY=y1;break;case index_a12c80bd.P.Top:case index_a12c80bd.P.Bottom:ctX=x1,ctY=.5*(y1+y2)}return[ctX,ctY]}function getSimpleBezierPath(_ref2){var sourceX=_ref2.sourceX,sourceY=_ref2.sourceY,_ref2$sourcePosition=_ref2.sourcePosition,sourcePosition=void 0===_ref2$sourcePosition?index_a12c80bd.P.Bottom:_ref2$sourcePosition,targetX=_ref2.targetX,targetY=_ref2.targetY,_ref2$targetPosition=_ref2.targetPosition,targetPosition=void 0===_ref2$targetPosition?index_a12c80bd.P.Top:_ref2$targetPosition,_getControl=getControl({pos:sourcePosition,x1:sourceX,y1:sourceY,x2:targetX,y2:targetY}),_getControl2=(0,index_a12c80bd._)(_getControl,2),sourceControlX=_getControl2[0],sourceControlY=_getControl2[1],_getControl3=getControl({pos:targetPosition,x1:targetX,y1:targetY,x2:sourceX,y2:sourceY}),_getControl4=(0,index_a12c80bd._)(_getControl3,2),targetControlX=_getControl4[0],targetControlY=_getControl4[1];return"M".concat(sourceX,",").concat(sourceY," C").concat(sourceControlX,",").concat(sourceControlY," ").concat(targetControlX,",").concat(targetControlY," ").concat(targetX,",").concat(targetY)}var SimpleBezierEdge=(0,react.memo)((function(_ref4){var sourceX=_ref4.sourceX,sourceY=_ref4.sourceY,targetX=_ref4.targetX,targetY=_ref4.targetY,_ref4$sourcePosition=_ref4.sourcePosition,sourcePosition=void 0===_ref4$sourcePosition?index_a12c80bd.P.Bottom:_ref4$sourcePosition,_ref4$targetPosition=_ref4.targetPosition,targetPosition=void 0===_ref4$targetPosition?index_a12c80bd.P.Top:_ref4$targetPosition,label=_ref4.label,labelStyle=_ref4.labelStyle,labelShowBg=_ref4.labelShowBg,labelBgStyle=_ref4.labelBgStyle,labelBgPadding=_ref4.labelBgPadding,labelBgBorderRadius=_ref4.labelBgBorderRadius,style=_ref4.style,markerEnd=_ref4.markerEnd,markerStart=_ref4.markerStart,params={sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition},path=getSimpleBezierPath(params),_getSimpleBezierCente=function getSimpleBezierCenter(_ref3){var sourceX=_ref3.sourceX,sourceY=_ref3.sourceY,_ref3$sourcePosition=_ref3.sourcePosition,sourcePosition=void 0===_ref3$sourcePosition?index_a12c80bd.P.Bottom:_ref3$sourcePosition,targetX=_ref3.targetX,targetY=_ref3.targetY,_ref3$targetPosition=_ref3.targetPosition,targetPosition=void 0===_ref3$targetPosition?index_a12c80bd.P.Top:_ref3$targetPosition,_getControl5=getControl({pos:sourcePosition,x1:sourceX,y1:sourceY,x2:targetX,y2:targetY}),_getControl6=(0,index_a12c80bd._)(_getControl5,2),sourceControlX=_getControl6[0],sourceControlY=_getControl6[1],_getControl7=getControl({pos:targetPosition,x1:targetX,y1:targetY,x2:sourceX,y2:sourceY}),_getControl8=(0,index_a12c80bd._)(_getControl7,2),centerX=.125*sourceX+.375*sourceControlX+.375*_getControl8[0]+.125*targetX,centerY=.125*sourceY+.375*sourceControlY+.375*_getControl8[1]+.125*targetY;return[centerX,centerY,Math.abs(centerX-sourceX),Math.abs(centerY-sourceY)]}(params),_getSimpleBezierCente2=(0,index_a12c80bd._)(_getSimpleBezierCente,2),centerX=_getSimpleBezierCente2[0],centerY=_getSimpleBezierCente2[1];return react.createElement(BaseEdge,{path,centerX,centerY,label,labelStyle,labelShowBg,labelBgStyle,labelBgPadding,labelBgBorderRadius,style,markerEnd,markerStart})}));function ownKeys$b(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var LeftOrRight=[index_a12c80bd.P.Left,index_a12c80bd.P.Right],getCenter=function getCenter(_ref){var sourceX=_ref.sourceX,sourceY=_ref.sourceY,targetX=_ref.targetX,targetY=_ref.targetY,_ref$sourcePosition=_ref.sourcePosition,sourcePosition=void 0===_ref$sourcePosition?index_a12c80bd.P.Bottom:_ref$sourcePosition,_ref$targetPosition=_ref.targetPosition,targetPosition=void 0===_ref$targetPosition?index_a12c80bd.P.Top:_ref$targetPosition,sourceIsLeftOrRight=LeftOrRight.includes(sourcePosition),targetIsLeftOrRight=LeftOrRight.includes(targetPosition);if(sourceIsLeftOrRight&&!targetIsLeftOrRight||targetIsLeftOrRight&&!sourceIsLeftOrRight){var _xOffset=sourceIsLeftOrRight?Math.abs(targetX-sourceX):0,_centerX=sourceX>targetX?sourceX-_xOffset:sourceX+_xOffset,_yOffset=sourceIsLeftOrRight?0:Math.abs(targetY-sourceY);return[_centerX,sourceY<targetY?sourceY+_yOffset:sourceY-_yOffset,_xOffset,_yOffset]}var xOffset=Math.abs(targetX-sourceX)/2,centerX=targetX<sourceX?targetX+xOffset:targetX-xOffset,yOffset=Math.abs(targetY-sourceY)/2;return[centerX,targetY<sourceY?targetY+yOffset:targetY-yOffset,xOffset,yOffset]};function getMouseHandler(id,getState,handler){return void 0===handler?handler:function(event){var edge=getState().edges.find((function(e){return e.id===id}));handler(event,function _objectSpread$b(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$b(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$b(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},edge))}}var bottomLeftCorner=function bottomLeftCorner(x,y,size){return"L ".concat(x,",").concat(y-size,"Q ").concat(x,",").concat(y," ").concat(x+size,",").concat(y)},leftBottomCorner=function leftBottomCorner(x,y,size){return"L ".concat(x+size,",").concat(y,"Q ").concat(x,",").concat(y," ").concat(x,",").concat(y-size)},bottomRightCorner=function bottomRightCorner(x,y,size){return"L ".concat(x,",").concat(y-size,"Q ").concat(x,",").concat(y," ").concat(x-size,",").concat(y)},rightBottomCorner=function rightBottomCorner(x,y,size){return"L ".concat(x-size,",").concat(y,"Q ").concat(x,",").concat(y," ").concat(x,",").concat(y-size)},leftTopCorner=function leftTopCorner(x,y,size){return"L ".concat(x+size,",").concat(y,"Q ").concat(x,",").concat(y," ").concat(x,",").concat(y+size)},topLeftCorner=function topLeftCorner(x,y,size){return"L ".concat(x,",").concat(y+size,"Q ").concat(x,",").concat(y," ").concat(x+size,",").concat(y)},topRightCorner=function topRightCorner(x,y,size){return"L ".concat(x,",").concat(y+size,"Q ").concat(x,",").concat(y," ").concat(x-size,",").concat(y)},rightTopCorner=function rightTopCorner(x,y,size){return"L ".concat(x-size,",").concat(y,"Q ").concat(x,",").concat(y," ").concat(x,",").concat(y+size)};function getSmoothStepPath(_ref){var sourceX=_ref.sourceX,sourceY=_ref.sourceY,_ref$sourcePosition=_ref.sourcePosition,sourcePosition=void 0===_ref$sourcePosition?index_a12c80bd.P.Bottom:_ref$sourcePosition,targetX=_ref.targetX,targetY=_ref.targetY,_ref$targetPosition=_ref.targetPosition,targetPosition=void 0===_ref$targetPosition?index_a12c80bd.P.Top:_ref$targetPosition,_ref$borderRadius=_ref.borderRadius,borderRadius=void 0===_ref$borderRadius?5:_ref$borderRadius,centerX=_ref.centerX,centerY=_ref.centerY,_getCenter=getCenter({sourceX,sourceY,targetX,targetY}),_getCenter2=(0,index_a12c80bd._)(_getCenter,4),_centerX=_getCenter2[0],_centerY=_getCenter2[1],offsetX=_getCenter2[2],offsetY=_getCenter2[3],cornerWidth=Math.min(borderRadius,Math.abs(targetX-sourceX)),cornerHeight=Math.min(borderRadius,Math.abs(targetY-sourceY)),cornerSize=Math.min(cornerWidth,cornerHeight,offsetX,offsetY),leftAndRight=[index_a12c80bd.P.Left,index_a12c80bd.P.Right],cX=void 0!==centerX?centerX:_centerX,cY=void 0!==centerY?centerY:_centerY,firstCornerPath=null,secondCornerPath=null;return sourceX<=targetX?(firstCornerPath=sourceY<=targetY?bottomLeftCorner(sourceX,cY,cornerSize):topLeftCorner(sourceX,cY,cornerSize),secondCornerPath=sourceY<=targetY?rightTopCorner(targetX,cY,cornerSize):rightBottomCorner(targetX,cY,cornerSize)):(firstCornerPath=sourceY<targetY?bottomRightCorner(sourceX,cY,cornerSize):topRightCorner(sourceX,cY,cornerSize),secondCornerPath=sourceY<targetY?leftTopCorner(targetX,cY,cornerSize):leftBottomCorner(targetX,cY,cornerSize)),leftAndRight.includes(sourcePosition)&&leftAndRight.includes(targetPosition)?sourceX<=targetX?(firstCornerPath=sourceY<=targetY?rightTopCorner(cX,sourceY,cornerSize):rightBottomCorner(cX,sourceY,cornerSize),secondCornerPath=sourceY<=targetY?bottomLeftCorner(cX,targetY,cornerSize):topLeftCorner(cX,targetY,cornerSize)):(sourcePosition===index_a12c80bd.P.Right&&targetPosition===index_a12c80bd.P.Left||sourcePosition===index_a12c80bd.P.Left&&targetPosition===index_a12c80bd.P.Right||sourcePosition===index_a12c80bd.P.Left&&targetPosition===index_a12c80bd.P.Left)&&(firstCornerPath=sourceY<=targetY?leftTopCorner(cX,sourceY,cornerSize):leftBottomCorner(cX,sourceY,cornerSize),secondCornerPath=sourceY<=targetY?bottomRightCorner(cX,targetY,cornerSize):topRightCorner(cX,targetY,cornerSize)):leftAndRight.includes(sourcePosition)&&!leftAndRight.includes(targetPosition)?(firstCornerPath=sourceX<=targetX?sourceY<=targetY?rightTopCorner(targetX,sourceY,cornerSize):rightBottomCorner(targetX,sourceY,cornerSize):sourceY<=targetY?leftTopCorner(targetX,sourceY,cornerSize):leftBottomCorner(targetX,sourceY,cornerSize),secondCornerPath=""):!leftAndRight.includes(sourcePosition)&&leftAndRight.includes(targetPosition)&&(firstCornerPath=sourceX<=targetX?sourceY<=targetY?bottomLeftCorner(sourceX,targetY,cornerSize):topLeftCorner(sourceX,targetY,cornerSize):sourceY<=targetY?bottomRightCorner(sourceX,targetY,cornerSize):topRightCorner(sourceX,targetY,cornerSize),secondCornerPath=""),"M ".concat(sourceX,",").concat(sourceY).concat(firstCornerPath).concat(secondCornerPath,"L ").concat(targetX,",").concat(targetY)}var SmoothStepEdge=(0,react.memo)((function(_ref2){var sourceX=_ref2.sourceX,sourceY=_ref2.sourceY,targetX=_ref2.targetX,targetY=_ref2.targetY,label=_ref2.label,labelStyle=_ref2.labelStyle,labelShowBg=_ref2.labelShowBg,labelBgStyle=_ref2.labelBgStyle,labelBgPadding=_ref2.labelBgPadding,labelBgBorderRadius=_ref2.labelBgBorderRadius,style=_ref2.style,_ref2$sourcePosition=_ref2.sourcePosition,sourcePosition=void 0===_ref2$sourcePosition?index_a12c80bd.P.Bottom:_ref2$sourcePosition,_ref2$targetPosition=_ref2.targetPosition,targetPosition=void 0===_ref2$targetPosition?index_a12c80bd.P.Top:_ref2$targetPosition,markerEnd=_ref2.markerEnd,markerStart=_ref2.markerStart,_ref2$borderRadius=_ref2.borderRadius,borderRadius=void 0===_ref2$borderRadius?5:_ref2$borderRadius,_getCenter3=getCenter({sourceX,sourceY,targetX,targetY,sourcePosition,targetPosition}),_getCenter4=(0,index_a12c80bd._)(_getCenter3,2),centerX=_getCenter4[0],centerY=_getCenter4[1],path=getSmoothStepPath({sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition,borderRadius});return react.createElement(BaseEdge,{path,centerX,centerY,label,labelStyle,labelShowBg,labelBgStyle,labelBgPadding,labelBgBorderRadius,style,markerEnd,markerStart})}));function ownKeys$a(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$a(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$a(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$a(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var StepEdge=(0,react.memo)((function(props){return react.createElement(SmoothStepEdge,_objectSpread$a(_objectSpread$a({},props),{},{borderRadius:0}))})),StraightEdge=(0,react.memo)((function(_ref){var sourceX=_ref.sourceX,sourceY=_ref.sourceY,targetX=_ref.targetX,targetY=_ref.targetY,label=_ref.label,labelStyle=_ref.labelStyle,labelShowBg=_ref.labelShowBg,labelBgStyle=_ref.labelBgStyle,labelBgPadding=_ref.labelBgPadding,labelBgBorderRadius=_ref.labelBgBorderRadius,style=_ref.style,markerEnd=_ref.markerEnd,markerStart=_ref.markerStart,yOffset=Math.abs(targetY-sourceY)/2,centerY=targetY<sourceY?targetY+yOffset:targetY-yOffset,xOffset=Math.abs(targetX-sourceX)/2,centerX=targetX<sourceX?targetX+xOffset:targetX-xOffset,path="M ".concat(sourceX,",").concat(sourceY,"L ").concat(targetX,",").concat(targetY);return react.createElement(BaseEdge,{path,centerX,centerY,label,labelStyle,labelShowBg,labelBgStyle,labelBgPadding,labelBgBorderRadius,style,markerEnd,markerStart})}));function calculateControlOffset(distance,curvature){return distance>=0?.5*distance:25*curvature*Math.sqrt(-distance)}function getControlWithCurvature(_ref){var ctX,ctY,pos=_ref.pos,x1=_ref.x1,y1=_ref.y1,x2=_ref.x2,y2=_ref.y2,c=_ref.c;switch(pos){case index_a12c80bd.P.Left:ctX=x1-calculateControlOffset(x1-x2,c),ctY=y1;break;case index_a12c80bd.P.Right:ctX=x1+calculateControlOffset(x2-x1,c),ctY=y1;break;case index_a12c80bd.P.Top:ctX=x1,ctY=y1-calculateControlOffset(y1-y2,c);break;case index_a12c80bd.P.Bottom:ctX=x1,ctY=y1+calculateControlOffset(y2-y1,c)}return[ctX,ctY]}function getBezierPath(_ref2){var sourceX=_ref2.sourceX,sourceY=_ref2.sourceY,_ref2$sourcePosition=_ref2.sourcePosition,sourcePosition=void 0===_ref2$sourcePosition?index_a12c80bd.P.Bottom:_ref2$sourcePosition,targetX=_ref2.targetX,targetY=_ref2.targetY,_ref2$targetPosition=_ref2.targetPosition,targetPosition=void 0===_ref2$targetPosition?index_a12c80bd.P.Top:_ref2$targetPosition,_ref2$curvature=_ref2.curvature,curvature=void 0===_ref2$curvature?.25:_ref2$curvature,_getControlWithCurvat=getControlWithCurvature({pos:sourcePosition,x1:sourceX,y1:sourceY,x2:targetX,y2:targetY,c:curvature}),_getControlWithCurvat2=(0,index_a12c80bd._)(_getControlWithCurvat,2),sourceControlX=_getControlWithCurvat2[0],sourceControlY=_getControlWithCurvat2[1],_getControlWithCurvat3=getControlWithCurvature({pos:targetPosition,x1:targetX,y1:targetY,x2:sourceX,y2:sourceY,c:curvature}),_getControlWithCurvat4=(0,index_a12c80bd._)(_getControlWithCurvat3,2),targetControlX=_getControlWithCurvat4[0],targetControlY=_getControlWithCurvat4[1];return"M".concat(sourceX,",").concat(sourceY," C").concat(sourceControlX,",").concat(sourceControlY," ").concat(targetControlX,",").concat(targetControlY," ").concat(targetX,",").concat(targetY)}var BezierEdge=(0,react.memo)((function(_ref4){var sourceX=_ref4.sourceX,sourceY=_ref4.sourceY,targetX=_ref4.targetX,targetY=_ref4.targetY,_ref4$sourcePosition=_ref4.sourcePosition,sourcePosition=void 0===_ref4$sourcePosition?index_a12c80bd.P.Bottom:_ref4$sourcePosition,_ref4$targetPosition=_ref4.targetPosition,targetPosition=void 0===_ref4$targetPosition?index_a12c80bd.P.Top:_ref4$targetPosition,label=_ref4.label,labelStyle=_ref4.labelStyle,labelShowBg=_ref4.labelShowBg,labelBgStyle=_ref4.labelBgStyle,labelBgPadding=_ref4.labelBgPadding,labelBgBorderRadius=_ref4.labelBgBorderRadius,style=_ref4.style,markerEnd=_ref4.markerEnd,markerStart=_ref4.markerStart,params={sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition,curvature:_ref4.curvature},path=getBezierPath(params),_getBezierCenter=function getBezierCenter(_ref3){var sourceX=_ref3.sourceX,sourceY=_ref3.sourceY,_ref3$sourcePosition=_ref3.sourcePosition,sourcePosition=void 0===_ref3$sourcePosition?index_a12c80bd.P.Bottom:_ref3$sourcePosition,targetX=_ref3.targetX,targetY=_ref3.targetY,_ref3$targetPosition=_ref3.targetPosition,targetPosition=void 0===_ref3$targetPosition?index_a12c80bd.P.Top:_ref3$targetPosition,_ref3$curvature=_ref3.curvature,curvature=void 0===_ref3$curvature?.25:_ref3$curvature,_getControlWithCurvat5=getControlWithCurvature({pos:sourcePosition,x1:sourceX,y1:sourceY,x2:targetX,y2:targetY,c:curvature}),_getControlWithCurvat6=(0,index_a12c80bd._)(_getControlWithCurvat5,2),sourceControlX=_getControlWithCurvat6[0],sourceControlY=_getControlWithCurvat6[1],_getControlWithCurvat7=getControlWithCurvature({pos:targetPosition,x1:targetX,y1:targetY,x2:sourceX,y2:sourceY,c:curvature}),_getControlWithCurvat8=(0,index_a12c80bd._)(_getControlWithCurvat7,2),centerX=.125*sourceX+.375*sourceControlX+.375*_getControlWithCurvat8[0]+.125*targetX,centerY=.125*sourceY+.375*sourceControlY+.375*_getControlWithCurvat8[1]+.125*targetY;return[centerX,centerY,Math.abs(centerX-sourceX),Math.abs(centerY-sourceY)]}(params),_getBezierCenter2=(0,index_a12c80bd._)(_getBezierCenter,2),centerX=_getBezierCenter2[0],centerY=_getBezierCenter2[1];return react.createElement(BaseEdge,{path,centerX,centerY,label,labelStyle,labelShowBg,labelBgStyle,labelBgPadding,labelBgBorderRadius,style,markerEnd,markerStart})})),NodeIdContext=(0,react.createContext)(null),Provider=NodeIdContext.Provider;function checkElementBelowIsValid(event,connectionMode,isTarget,nodeId,handleId,isValidConnection,doc){var elementBelow=doc.elementFromPoint(event.clientX,event.clientY),elementBelowIsTarget=(null==elementBelow?void 0:elementBelow.classList.contains("target"))||!1,elementBelowIsSource=(null==elementBelow?void 0:elementBelow.classList.contains("source"))||!1,result={elementBelow,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(elementBelow&&(elementBelowIsTarget||elementBelowIsSource)){result.isHoveringHandle=!0;var elementBelowNodeId=elementBelow.getAttribute("data-nodeid"),elementBelowHandleId=elementBelow.getAttribute("data-handleid"),connection=isTarget?{source:elementBelowNodeId,sourceHandle:elementBelowHandleId,target:nodeId,targetHandle:handleId}:{source:nodeId,sourceHandle:handleId,target:elementBelowNodeId,targetHandle:elementBelowHandleId};result.connection=connection,(connectionMode!==index_a12c80bd.C.Strict||(isTarget&&elementBelowIsSource||!isTarget&&elementBelowIsTarget))&&(result.isValid=isValidConnection(connection))}return result}function resetRecentHandle(hoveredHandle){null==hoveredHandle||hoveredHandle.classList.remove("react-flow__handle-valid"),null==hoveredHandle||hoveredHandle.classList.remove("react-flow__handle-connecting")}function handleMouseDown(_ref){var event=_ref.event,handleId=_ref.handleId,nodeId=_ref.nodeId,onConnect=_ref.onConnect,isTarget=_ref.isTarget,getState=_ref.getState,setState=_ref.setState,isValidConnection=_ref.isValidConnection,elementEdgeUpdaterType=_ref.elementEdgeUpdaterType,onEdgeUpdateEnd=_ref.onEdgeUpdateEnd,reactFlowNode=event.target.closest(".react-flow"),doc=(0,index_a12c80bd.g)(event.target);if(doc){var elementBelow=doc.elementFromPoint(event.clientX,event.clientY),elementBelowIsTarget=null==elementBelow?void 0:elementBelow.classList.contains("target"),elementBelowIsSource=null==elementBelow?void 0:elementBelow.classList.contains("source");if(reactFlowNode&&(elementBelowIsTarget||elementBelowIsSource||elementEdgeUpdaterType)){var recentHoveredHandle,_getState=getState(),onConnectStart=_getState.onConnectStart,connectionMode=_getState.connectionMode,handleType=elementEdgeUpdaterType||(elementBelowIsTarget?"target":"source"),containerBounds=reactFlowNode.getBoundingClientRect();setState({connectionPosition:{x:event.clientX-containerBounds.left,y:event.clientY-containerBounds.top},connectionNodeId:nodeId,connectionHandleId:handleId,connectionHandleType:handleType}),null==onConnectStart||onConnectStart(event,{nodeId,handleId,handleType}),doc.addEventListener("mousemove",onMouseMove),doc.addEventListener("mouseup",(function onMouseUp(event){var _getState2=getState(),onConnectStop=_getState2.onConnectStop,onConnectEnd=_getState2.onConnectEnd,_checkElementBelowIsV2=checkElementBelowIsValid(event,connectionMode,isTarget,nodeId,handleId,isValidConnection,doc),connection=_checkElementBelowIsV2.connection,isValid=_checkElementBelowIsV2.isValid;null==onConnectStop||onConnectStop(event),isValid&&(null==onConnect||onConnect(connection)),null==onConnectEnd||onConnectEnd(event),elementEdgeUpdaterType&&onEdgeUpdateEnd&&onEdgeUpdateEnd(event),resetRecentHandle(recentHoveredHandle),setState({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),doc.removeEventListener("mousemove",onMouseMove),doc.removeEventListener("mouseup",onMouseUp)}))}}function onMouseMove(event){setState({connectionPosition:{x:event.clientX-containerBounds.left,y:event.clientY-containerBounds.top}});var _checkElementBelowIsV=checkElementBelowIsValid(event,connectionMode,isTarget,nodeId,handleId,isValidConnection,doc),connection=_checkElementBelowIsV.connection,elementBelow=_checkElementBelowIsV.elementBelow,isValid=_checkElementBelowIsV.isValid;if(!_checkElementBelowIsV.isHoveringHandle)return resetRecentHandle(recentHoveredHandle);connection.source!==connection.target&&elementBelow&&(resetRecentHandle(recentHoveredHandle),recentHoveredHandle=elementBelow,elementBelow.classList.add("react-flow__handle-connecting"),elementBelow.classList.toggle("react-flow__handle-valid",isValid))}}NodeIdContext.Consumer;var _excluded$1=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function ownKeys$9(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$9(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$9(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$9(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var alwaysValid=function alwaysValid(){return!0},selector$a=function selector(s){return{connectionStartHandle:s.connectionStartHandle,connectOnClick:s.connectOnClick}},Handle=(0,react.forwardRef)((function(_ref,ref){var _ref$type=_ref.type,type=void 0===_ref$type?"source":_ref$type,_ref$position=_ref.position,position=void 0===_ref$position?index_a12c80bd.P.Top:_ref$position,_ref$isValidConnectio=_ref.isValidConnection,isValidConnection=void 0===_ref$isValidConnectio?alwaysValid:_ref$isValidConnectio,_ref$isConnectable=_ref.isConnectable,isConnectable=void 0===_ref$isConnectable||_ref$isConnectable,id=_ref.id,onConnect=_ref.onConnect,children=_ref.children,className=_ref.className,onMouseDown=_ref.onMouseDown,rest=_objectWithoutProperties(_ref,_excluded$1),store=(0,index_a12c80bd.u)(),nodeId=(0,react.useContext)(NodeIdContext),_useStore=(0,index_a12c80bd.b)(selector$a,shallow),connectionStartHandle=_useStore.connectionStartHandle,connectOnClick=_useStore.connectOnClick,handleId=id||null,isTarget="target"===type,onConnectExtended=function onConnectExtended(params){var _store$getState=store.getState(),defaultEdgeOptions=_store$getState.defaultEdgeOptions,onConnectAction=_store$getState.onConnect,hasDefaultEdges=_store$getState.hasDefaultEdges,edgeParams=_objectSpread$9(_objectSpread$9({},defaultEdgeOptions),params);if(hasDefaultEdges){var edges=store.getState().edges;store.setState({edges:(0,index_a12c80bd.c)(edgeParams,edges)})}null==onConnectAction||onConnectAction(edgeParams),null==onConnect||onConnect(edgeParams)};return react.createElement("div",_objectSpread$9({"data-handleid":handleId,"data-nodeid":nodeId,"data-handlepos":position,className:cc(["react-flow__handle","react-flow__handle-".concat(position),"nodrag",className,{source:!isTarget,target:isTarget,connectable:isConnectable,connecting:(null==connectionStartHandle?void 0:connectionStartHandle.nodeId)===nodeId&&(null==connectionStartHandle?void 0:connectionStartHandle.handleId)===handleId&&(null==connectionStartHandle?void 0:connectionStartHandle.type)===type}]),onMouseDown:function onMouseDownHandler(event){0===event.button&&handleMouseDown({event,handleId,nodeId,onConnect:onConnectExtended,isTarget,getState:store.getState,setState:store.setState,isValidConnection}),null==onMouseDown||onMouseDown(event)},onClick:connectOnClick?function onClick(event){var _store$getState3=store.getState(),onClickConnectStart=_store$getState3.onClickConnectStart,onClickConnectStop=_store$getState3.onClickConnectStop,onClickConnectEnd=_store$getState3.onClickConnectEnd,connectionMode=_store$getState3.connectionMode;if(!connectionStartHandle)return null==onClickConnectStart||onClickConnectStart(event,{nodeId,handleId,handleType:type}),void store.setState({connectionStartHandle:{nodeId,type,handleId}});var doc=(0,index_a12c80bd.g)(event.target),_checkElementBelowIsV=checkElementBelowIsValid(event,connectionMode,"target"===connectionStartHandle.type,connectionStartHandle.nodeId,connectionStartHandle.handleId||null,isValidConnection,doc),connection=_checkElementBelowIsV.connection,isValid=_checkElementBelowIsV.isValid;null==onClickConnectStop||onClickConnectStop(event),isValid&&onConnectExtended(connection),null==onClickConnectEnd||onClickConnectEnd(event),store.setState({connectionStartHandle:null})}:void 0,ref},rest),children)}));Handle.displayName="Handle";var Handle$1=(0,react.memo)(Handle),DefaultNode=function DefaultNode(_ref){var data=_ref.data,isConnectable=_ref.isConnectable,_ref$targetPosition=_ref.targetPosition,targetPosition=void 0===_ref$targetPosition?index_a12c80bd.P.Top:_ref$targetPosition,_ref$sourcePosition=_ref.sourcePosition,sourcePosition=void 0===_ref$sourcePosition?index_a12c80bd.P.Bottom:_ref$sourcePosition;return react.createElement(react.Fragment,null,react.createElement(Handle$1,{type:"target",position:targetPosition,isConnectable}),null==data?void 0:data.label,react.createElement(Handle$1,{type:"source",position:sourcePosition,isConnectable}))};DefaultNode.displayName="DefaultNode";var DefaultNode$1=(0,react.memo)(DefaultNode),InputNode=function InputNode(_ref){var data=_ref.data,isConnectable=_ref.isConnectable,_ref$sourcePosition=_ref.sourcePosition,sourcePosition=void 0===_ref$sourcePosition?index_a12c80bd.P.Bottom:_ref$sourcePosition;return react.createElement(react.Fragment,null,null==data?void 0:data.label,react.createElement(Handle$1,{type:"source",position:sourcePosition,isConnectable}))};InputNode.displayName="InputNode";var InputNode$1=(0,react.memo)(InputNode),OutputNode=function OutputNode(_ref){var data=_ref.data,isConnectable=_ref.isConnectable,_ref$targetPosition=_ref.targetPosition,targetPosition=void 0===_ref$targetPosition?index_a12c80bd.P.Top:_ref$targetPosition;return react.createElement(react.Fragment,null,react.createElement(Handle$1,{type:"target",position:targetPosition,isConnectable}),null==data?void 0:data.label)};OutputNode.displayName="OutputNode";var OutputNode$1=(0,react.memo)(OutputNode),selector$9=function selector(s){return{selectedNodes:Array.from(s.nodeInternals.values()).filter((function(n){return n.selected})),selectedEdges:s.edges.filter((function(e){return e.selected}))}},areEqual=function areEqual(objA,objB){var selectedNodeIdsA=objA.selectedNodes.map((function(n){return n.id})),selectedNodeIdsB=objB.selectedNodes.map((function(n){return n.id})),selectedEdgeIdsA=objA.selectedEdges.map((function(e){return e.id})),selectedEdgeIdsB=objB.selectedEdges.map((function(e){return e.id}));return shallow(selectedNodeIdsA,selectedNodeIdsB)&&shallow(selectedEdgeIdsA,selectedEdgeIdsB)};function SelectionListener(_ref){var onSelectionChange=_ref.onSelectionChange,_useStore=(0,index_a12c80bd.b)(selector$9,areEqual),selectedNodes=_useStore.selectedNodes,selectedEdges=_useStore.selectedEdges;return(0,react.useEffect)((function(){onSelectionChange({nodes:selectedNodes,edges:selectedEdges})}),[selectedNodes,selectedEdges]),null}var SelectionListener$1=(0,react.memo)(SelectionListener),selector$8=function selector(s){return{setNodes:s.setNodes,setEdges:s.setEdges,setDefaultNodesAndEdges:s.setDefaultNodesAndEdges,setMinZoom:s.setMinZoom,setMaxZoom:s.setMaxZoom,setTranslateExtent:s.setTranslateExtent,setNodeExtent:s.setNodeExtent,reset:s.reset}};function useStoreUpdater(value,setStoreState){(0,react.useEffect)((function(){void 0!==value&&setStoreState(value)}),[value])}function useDirectStoreUpdater(key,value,setState){(0,react.useEffect)((function(){void 0!==value&&setState((0,index_a12c80bd.a)({},key,value))}),[value])}var StoreUpdater=function StoreUpdater(_ref){var nodes=_ref.nodes,edges=_ref.edges,defaultNodes=_ref.defaultNodes,defaultEdges=_ref.defaultEdges,onConnect=_ref.onConnect,onConnectStart=_ref.onConnectStart,onConnectStop=_ref.onConnectStop,onConnectEnd=_ref.onConnectEnd,onClickConnectStart=_ref.onClickConnectStart,onClickConnectStop=_ref.onClickConnectStop,onClickConnectEnd=_ref.onClickConnectEnd,nodesDraggable=_ref.nodesDraggable,nodesConnectable=_ref.nodesConnectable,minZoom=_ref.minZoom,maxZoom=_ref.maxZoom,nodeExtent=_ref.nodeExtent,onNodesChange=_ref.onNodesChange,onEdgesChange=_ref.onEdgesChange,elementsSelectable=_ref.elementsSelectable,connectionMode=_ref.connectionMode,snapGrid=_ref.snapGrid,snapToGrid=_ref.snapToGrid,translateExtent=_ref.translateExtent,connectOnClick=_ref.connectOnClick,defaultEdgeOptions=_ref.defaultEdgeOptions,fitView=_ref.fitView,fitViewOptions=_ref.fitViewOptions,onNodesDelete=_ref.onNodesDelete,onEdgesDelete=_ref.onEdgesDelete,onNodeDrag=_ref.onNodeDrag,onNodeDragStart=_ref.onNodeDragStart,onNodeDragStop=_ref.onNodeDragStop,onSelectionDrag=_ref.onSelectionDrag,onSelectionDragStart=_ref.onSelectionDragStart,onSelectionDragStop=_ref.onSelectionDragStop,_useStore=(0,index_a12c80bd.b)(selector$8,shallow),setNodes=_useStore.setNodes,setEdges=_useStore.setEdges,setDefaultNodesAndEdges=_useStore.setDefaultNodesAndEdges,setMinZoom=_useStore.setMinZoom,setMaxZoom=_useStore.setMaxZoom,setTranslateExtent=_useStore.setTranslateExtent,setNodeExtent=_useStore.setNodeExtent,reset=_useStore.reset,store=(0,index_a12c80bd.u)();return(0,react.useEffect)((function(){return setDefaultNodesAndEdges(defaultNodes,defaultEdges),function(){reset()}}),[]),useDirectStoreUpdater("defaultEdgeOptions",defaultEdgeOptions,store.setState),useDirectStoreUpdater("connectionMode",connectionMode,store.setState),useDirectStoreUpdater("onConnect",onConnect,store.setState),useDirectStoreUpdater("onConnectStart",onConnectStart,store.setState),useDirectStoreUpdater("onConnectStop",onConnectStop,store.setState),useDirectStoreUpdater("onConnectEnd",onConnectEnd,store.setState),useDirectStoreUpdater("onClickConnectStart",onClickConnectStart,store.setState),useDirectStoreUpdater("onClickConnectStop",onClickConnectStop,store.setState),useDirectStoreUpdater("onClickConnectEnd",onClickConnectEnd,store.setState),useDirectStoreUpdater("nodesDraggable",nodesDraggable,store.setState),useDirectStoreUpdater("nodesConnectable",nodesConnectable,store.setState),useDirectStoreUpdater("elementsSelectable",elementsSelectable,store.setState),useDirectStoreUpdater("snapToGrid",snapToGrid,store.setState),useDirectStoreUpdater("snapGrid",snapGrid,store.setState),useDirectStoreUpdater("onNodesChange",onNodesChange,store.setState),useDirectStoreUpdater("onEdgesChange",onEdgesChange,store.setState),useDirectStoreUpdater("connectOnClick",connectOnClick,store.setState),useDirectStoreUpdater("fitViewOnInit",fitView,store.setState),useDirectStoreUpdater("fitViewOnInitOptions",fitViewOptions,store.setState),useDirectStoreUpdater("onNodesDelete",onNodesDelete,store.setState),useDirectStoreUpdater("onEdgesDelete",onEdgesDelete,store.setState),useDirectStoreUpdater("onNodeDrag",onNodeDrag,store.setState),useDirectStoreUpdater("onNodeDragStart",onNodeDragStart,store.setState),useDirectStoreUpdater("onNodeDragStop",onNodeDragStop,store.setState),useDirectStoreUpdater("onSelectionDrag",onSelectionDrag,store.setState),useDirectStoreUpdater("onSelectionDragStart",onSelectionDragStart,store.setState),useDirectStoreUpdater("onSelectionDragStop",onSelectionDragStop,store.setState),useStoreUpdater(nodes,setNodes),useStoreUpdater(edges,setEdges),useStoreUpdater(defaultNodes,setNodes),useStoreUpdater(defaultEdges,setEdges),useStoreUpdater(minZoom,setMinZoom),useStoreUpdater(maxZoom,setMaxZoom),useStoreUpdater(translateExtent,setTranslateExtent),useStoreUpdater(nodeExtent,setNodeExtent),null},shiftX=function shiftX(x,shift,position){return position===index_a12c80bd.P.Left?x-shift:position===index_a12c80bd.P.Right?x+shift:x},shiftY=function shiftY(y,shift,position){return position===index_a12c80bd.P.Top?y-shift:position===index_a12c80bd.P.Bottom?y+shift:y},EdgeAnchor=function EdgeAnchor(_ref){var className=_ref.className,position=_ref.position,centerX=_ref.centerX,centerY=_ref.centerY,_ref$radius=_ref.radius,radius=void 0===_ref$radius?10:_ref$radius;return react.createElement("circle",{className:cc(["react-flow__edgeupdater",className]),cx:shiftX(centerX,radius,position),cy:shiftY(centerY,radius,position),r:radius,stroke:"transparent",fill:"transparent"})},wrapEdge=function(EdgeComponent){var EdgeWrapper=function EdgeWrapper(_ref){var id=_ref.id,className=_ref.className,type=_ref.type,data=_ref.data,onClick=_ref.onClick,onEdgeDoubleClick=_ref.onEdgeDoubleClick,selected=_ref.selected,animated=_ref.animated,label=_ref.label,labelStyle=_ref.labelStyle,labelShowBg=_ref.labelShowBg,labelBgStyle=_ref.labelBgStyle,labelBgPadding=_ref.labelBgPadding,labelBgBorderRadius=_ref.labelBgBorderRadius,style=_ref.style,source=_ref.source,target=_ref.target,sourceX=_ref.sourceX,sourceY=_ref.sourceY,targetX=_ref.targetX,targetY=_ref.targetY,sourcePosition=_ref.sourcePosition,targetPosition=_ref.targetPosition,elementsSelectable=_ref.elementsSelectable,hidden=_ref.hidden,sourceHandleId=_ref.sourceHandleId,targetHandleId=_ref.targetHandleId,onContextMenu=_ref.onContextMenu,onMouseEnter=_ref.onMouseEnter,onMouseMove=_ref.onMouseMove,onMouseLeave=_ref.onMouseLeave,edgeUpdaterRadius=_ref.edgeUpdaterRadius,onEdgeUpdate=_ref.onEdgeUpdate,onEdgeUpdateStart=_ref.onEdgeUpdateStart,onEdgeUpdateEnd=_ref.onEdgeUpdateEnd,markerEnd=_ref.markerEnd,markerStart=_ref.markerStart,rfId=_ref.rfId,_useState=(0,react.useState)(!1),_useState2=(0,index_a12c80bd._)(_useState,2),updating=_useState2[0],setUpdating=_useState2[1],store=(0,index_a12c80bd.u)(),onEdgeDoubleClickHandler=getMouseHandler(id,store.getState,onEdgeDoubleClick),onEdgeContextMenu=getMouseHandler(id,store.getState,onContextMenu),onEdgeMouseEnter=getMouseHandler(id,store.getState,onMouseEnter),onEdgeMouseMove=getMouseHandler(id,store.getState,onMouseMove),onEdgeMouseLeave=getMouseHandler(id,store.getState,onMouseLeave),handleEdgeUpdater=function handleEdgeUpdater(event,isSourceHandle){var nodeId=isSourceHandle?target:source,handleId=(isSourceHandle?targetHandleId:sourceHandleId)||null,handleType=isSourceHandle?"target":"source",isTarget=isSourceHandle,edge=store.getState().edges.find((function(e){return e.id===id}));null==onEdgeUpdateStart||onEdgeUpdateStart(event,edge,handleType);var _onEdgeUpdateEnd=onEdgeUpdateEnd?function(evt){return onEdgeUpdateEnd(evt,edge,handleType)}:void 0;handleMouseDown({event,handleId,nodeId,onConnect:function onConnectEdge(connection){return null==onEdgeUpdate?void 0:onEdgeUpdate(edge,connection)},isTarget,getState:store.getState,setState:store.setState,isValidConnection:function isValidConnection(){return!0},elementEdgeUpdaterType:handleType,onEdgeUpdateEnd:_onEdgeUpdateEnd})},onEdgeUpdaterMouseEnter=function onEdgeUpdaterMouseEnter(){return setUpdating(!0)},onEdgeUpdaterMouseOut=function onEdgeUpdaterMouseOut(){return setUpdating(!1)},markerStartUrl=(0,react.useMemo)((function(){return"url(#".concat((0,index_a12c80bd.d)(markerStart,rfId),")")}),[markerStart,rfId]),markerEndUrl=(0,react.useMemo)((function(){return"url(#".concat((0,index_a12c80bd.d)(markerEnd,rfId),")")}),[markerEnd,rfId]);if(hidden)return null;var inactive=!elementsSelectable&&!onClick,handleEdgeUpdate=void 0!==onEdgeUpdate,edgeClasses=cc(["react-flow__edge","react-flow__edge-".concat(type),className,{selected,animated,inactive,updating}]);return react.createElement("g",{className:edgeClasses,onClick:function onEdgeClick(event){var _store$getState=store.getState(),edges=_store$getState.edges,addSelectedEdges=_store$getState.addSelectedEdges,edge=edges.find((function(e){return e.id===id}));elementsSelectable&&(store.setState({nodesSelectionActive:!1}),addSelectedEdges([id])),null==onClick||onClick(event,edge)},onDoubleClick:onEdgeDoubleClickHandler,onContextMenu:onEdgeContextMenu,onMouseEnter:onEdgeMouseEnter,onMouseMove:onEdgeMouseMove,onMouseLeave:onEdgeMouseLeave},react.createElement(EdgeComponent,{id,source,target,selected,animated,label,labelStyle,labelShowBg,labelBgStyle,labelBgPadding,labelBgBorderRadius,data,style,sourceX,sourceY,targetX,targetY,sourcePosition,targetPosition,sourceHandleId,targetHandleId,markerStart:markerStartUrl,markerEnd:markerEndUrl,"data-testid":"rf__edge-".concat(id)}),handleEdgeUpdate&&react.createElement("g",{onMouseDown:function onEdgeUpdaterSourceMouseDown(event){return handleEdgeUpdater(event,!0)},onMouseEnter:onEdgeUpdaterMouseEnter,onMouseOut:onEdgeUpdaterMouseOut},react.createElement(EdgeAnchor,{position:sourcePosition,centerX:sourceX,centerY:sourceY,radius:edgeUpdaterRadius})),handleEdgeUpdate&&react.createElement("g",{onMouseDown:function onEdgeUpdaterTargetMouseDown(event){return handleEdgeUpdater(event,!1)},onMouseEnter:onEdgeUpdaterMouseEnter,onMouseOut:onEdgeUpdaterMouseOut},react.createElement(EdgeAnchor,{position:targetPosition,centerX:targetX,centerY:targetY,radius:edgeUpdaterRadius})))};return EdgeWrapper.displayName="EdgeWrapper",(0,react.memo)(EdgeWrapper)};function ownKeys$8(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$8(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$8(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$8(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function createEdgeTypes(edgeTypes){var standardTypes={default:wrapEdge(edgeTypes.default||BezierEdge),straight:wrapEdge(edgeTypes.bezier||StraightEdge),step:wrapEdge(edgeTypes.step||StepEdge),smoothstep:wrapEdge(edgeTypes.step||SmoothStepEdge),simplebezier:wrapEdge(edgeTypes.simplebezier||SimpleBezierEdge)},specialTypes=Object.keys(edgeTypes).filter((function(k){return!["default","bezier"].includes(k)})).reduce((function(res,key){return res[key]=wrapEdge(edgeTypes[key]||BezierEdge),res}),{});return _objectSpread$8(_objectSpread$8({},standardTypes),specialTypes)}function getHandlePosition(position,nodeRect){var handle=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,x=((null==handle?void 0:handle.x)||0)+nodeRect.x,y=((null==handle?void 0:handle.y)||0)+nodeRect.y,width=(null==handle?void 0:handle.width)||nodeRect.width,height=(null==handle?void 0:handle.height)||nodeRect.height;switch(position){case index_a12c80bd.P.Top:return{x:x+width/2,y};case index_a12c80bd.P.Right:return{x:x+width,y:y+height/2};case index_a12c80bd.P.Bottom:return{x:x+width/2,y:y+height};case index_a12c80bd.P.Left:return{x,y:y+height/2}}}function getHandle(bounds,handleId){if(!bounds)return null;var handle=null;return 1!==bounds.length&&handleId?handleId&&(handle=bounds.find((function(d){return d.id===handleId}))):handle=bounds[0],void 0===handle?null:handle}function getNodeData(nodeInternals,nodeId){var _node$internalsSymbol,_node$positionAbsolut,_node$positionAbsolut2,_node$positionAbsolut3,_node$positionAbsolut4,node=nodeInternals.get(nodeId),handleBounds=(null==node||null===(_node$internalsSymbol=node[index_a12c80bd.i])||void 0===_node$internalsSymbol?void 0:_node$internalsSymbol.handleBounds)||null,isInvalid=!(node&&handleBounds&&node.width&&node.height&&void 0!==(null===(_node$positionAbsolut=node.positionAbsolute)||void 0===_node$positionAbsolut?void 0:_node$positionAbsolut.x)&&void 0!==(null===(_node$positionAbsolut2=node.positionAbsolute)||void 0===_node$positionAbsolut2?void 0:_node$positionAbsolut2.y));return[{x:(null==node||null===(_node$positionAbsolut3=node.positionAbsolute)||void 0===_node$positionAbsolut3?void 0:_node$positionAbsolut3.x)||0,y:(null==node||null===(_node$positionAbsolut4=node.positionAbsolute)||void 0===_node$positionAbsolut4?void 0:_node$positionAbsolut4.y)||0,width:(null==node?void 0:node.width)||0,height:(null==node?void 0:node.height)||0},handleBounds,!isInvalid]}var doc="undefined"!=typeof document?document:null,useKeyPress=function(){var keyCode=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:doc},_useState=(0,react.useState)(!1),_useState2=(0,index_a12c80bd._)(_useState,2),keyPressed=_useState2[0],setKeyPressed=_useState2[1],pressedKeys=(0,react.useRef)(new Set([])),_useMemo=(0,react.useMemo)((function(){if(null!==keyCode){var keys=(Array.isArray(keyCode)?keyCode:[keyCode]).filter((function(kc){return"string"==typeof kc})).map((function(kc){return kc.split("+")})),keysFlat=keys.reduce((function(res,item){return res.concat.apply(res,_toConsumableArray(item))}),[]);return[keys,keysFlat]}return[[],[]]}),[keyCode]),_useMemo2=(0,index_a12c80bd._)(_useMemo,2),keyCodes=_useMemo2[0],keysToWatch=_useMemo2[1];return(0,react.useEffect)((function(){if(null!==keyCode){var _options$target,_options$target2,downHandler=function downHandler(event){if(isInputDOMNode(event))return!1;var keyOrCode=useKeyOrCode(event.code,keysToWatch);pressedKeys.current.add(event[keyOrCode]),isMatchingKey(keyCodes,pressedKeys.current,!1)&&(event.preventDefault(),setKeyPressed(!0))},upHandler=function upHandler(event){if(isInputDOMNode(event))return!1;var keyOrCode=useKeyOrCode(event.code,keysToWatch);isMatchingKey(keyCodes,pressedKeys.current,!0)?(setKeyPressed(!1),pressedKeys.current.clear()):pressedKeys.current.delete(event[keyOrCode])},resetHandler=function resetHandler(){pressedKeys.current.clear(),setKeyPressed(!1)};return null==options||null===(_options$target=options.target)||void 0===_options$target||_options$target.addEventListener("keydown",downHandler),null==options||null===(_options$target2=options.target)||void 0===_options$target2||_options$target2.addEventListener("keyup",upHandler),window.addEventListener("blur",resetHandler),function(){var _options$target3,_options$target4;null==options||null===(_options$target3=options.target)||void 0===_options$target3||_options$target3.removeEventListener("keydown",downHandler),null==options||null===(_options$target4=options.target)||void 0===_options$target4||_options$target4.removeEventListener("keyup",upHandler),window.removeEventListener("blur",resetHandler)}}}),[keyCode,setKeyPressed]),keyPressed};function isMatchingKey(keyCodes,pressedKeys,isUp){return keyCodes.filter((function(keys){return isUp||keys.length===pressedKeys.size})).some((function(keys){return keys.every((function(k){return pressedKeys.has(k)}))}))}function useKeyOrCode(eventCode,keysToWatch){return keysToWatch.includes(eventCode)?"code":"key"}function isInputDOMNode(event){var _event$composedPath,target=(null===(_event$composedPath=event.composedPath)||void 0===_event$composedPath?void 0:_event$composedPath.call(event)[0])||event.target;return["INPUT","SELECT","TEXTAREA"].includes(null==target?void 0:target.nodeName)||(null==target?void 0:target.hasAttribute("contenteditable"))}var selector$7=function selector(s){return{onNodesChange:s.onNodesChange,onEdgesChange:s.onEdgesChange}};var eventToFlowTransform=function eventToFlowTransform(eventViewport){return{x:eventViewport.x,y:eventViewport.y,zoom:eventViewport.k}},isWrappedWithClass=function isWrappedWithClass(event,className){return event.target.closest(".".concat(className))},selector$6=function selector(s){return{d3Zoom:s.d3Zoom,d3Selection:s.d3Selection,d3ZoomHandler:s.d3ZoomHandler}},ZoomPane=function ZoomPane(_ref){var onMove=_ref.onMove,onMoveStart=_ref.onMoveStart,onMoveEnd=_ref.onMoveEnd,_ref$zoomOnScroll=_ref.zoomOnScroll,zoomOnScroll=void 0===_ref$zoomOnScroll||_ref$zoomOnScroll,_ref$zoomOnPinch=_ref.zoomOnPinch,zoomOnPinch=void 0===_ref$zoomOnPinch||_ref$zoomOnPinch,_ref$panOnScroll=_ref.panOnScroll,panOnScroll=void 0!==_ref$panOnScroll&&_ref$panOnScroll,_ref$panOnScrollSpeed=_ref.panOnScrollSpeed,panOnScrollSpeed=void 0===_ref$panOnScrollSpeed?.5:_ref$panOnScrollSpeed,_ref$panOnScrollMode=_ref.panOnScrollMode,panOnScrollMode=void 0===_ref$panOnScrollMode?index_a12c80bd.h.Free:_ref$panOnScrollMode,_ref$zoomOnDoubleClic=_ref.zoomOnDoubleClick,zoomOnDoubleClick=void 0===_ref$zoomOnDoubleClic||_ref$zoomOnDoubleClic,selectionKeyPressed=_ref.selectionKeyPressed,elementsSelectable=_ref.elementsSelectable,_ref$panOnDrag=_ref.panOnDrag,panOnDrag=void 0===_ref$panOnDrag||_ref$panOnDrag,translateExtent=_ref.translateExtent,minZoom=_ref.minZoom,maxZoom=_ref.maxZoom,_ref$defaultZoom=_ref.defaultZoom,defaultZoom=void 0===_ref$defaultZoom?1:_ref$defaultZoom,_ref$defaultPosition=_ref.defaultPosition,defaultPosition=void 0===_ref$defaultPosition?[0,0]:_ref$defaultPosition,zoomActivationKeyCode=_ref.zoomActivationKeyCode,_ref$preventScrolling=_ref.preventScrolling,preventScrolling=void 0===_ref$preventScrolling||_ref$preventScrolling,children=_ref.children,noWheelClassName=_ref.noWheelClassName,noPanClassName=_ref.noPanClassName,store=(0,index_a12c80bd.u)(),isZoomingOrPanning=(0,react.useRef)(!1),zoomPane=(0,react.useRef)(null),prevTransform=(0,react.useRef)({x:0,y:0,zoom:0}),_useStore=(0,index_a12c80bd.b)(selector$6,shallow),d3Zoom=_useStore.d3Zoom,d3Selection=_useStore.d3Selection,d3ZoomHandler=_useStore.d3ZoomHandler,zoomActivationKeyPressed=useKeyPress(zoomActivationKeyCode);return function useResizeHandler(rendererNode){var store=(0,index_a12c80bd.u)();(0,react.useEffect)((function(){var resizeObserver,updateDimensions=function updateDimensions(){if(rendererNode.current){var size=(0,index_a12c80bd.f)(rendererNode.current);store.setState({width:size.width||500,height:size.height||500})}};return updateDimensions(),window.onresize=updateDimensions,rendererNode.current&&(resizeObserver=new ResizeObserver((function(){return updateDimensions()}))).observe(rendererNode.current),function(){window.onresize=null,resizeObserver&&rendererNode.current&&resizeObserver.unobserve(rendererNode.current)}}),[])}(zoomPane),(0,react.useEffect)((function(){if(zoomPane.current){var _selection$node,d3ZoomInstance=(0,src.sP)().scaleExtent([minZoom,maxZoom]).translateExtent(translateExtent),selection=(0,src_select.Z)(zoomPane.current).call(d3ZoomInstance),clampedX=(0,index_a12c80bd.j)(defaultPosition[0],translateExtent[0][0],translateExtent[1][0]),clampedY=(0,index_a12c80bd.j)(defaultPosition[1],translateExtent[0][1],translateExtent[1][1]),clampedZoom=(0,index_a12c80bd.j)(defaultZoom,minZoom,maxZoom),updatedTransform=src.CR.translate(clampedX,clampedY).scale(clampedZoom);d3ZoomInstance.transform(selection,updatedTransform),store.setState({d3Zoom:d3ZoomInstance,d3Selection:selection,d3ZoomHandler:selection.on("wheel.zoom"),transform:[clampedX,clampedY,clampedZoom],domNode:null===(_selection$node=selection.node())||void 0===_selection$node?void 0:_selection$node.closest(".react-flow")})}}),[]),(0,react.useEffect)((function(){d3Selection&&d3Zoom&&(panOnScroll&&!zoomActivationKeyPressed?d3Selection.on("wheel",(function(event){if(isWrappedWithClass(event,noWheelClassName))return!1;event.preventDefault(),event.stopImmediatePropagation();var currentZoom=d3Selection.property("__zoom").k||1;if(event.ctrlKey&&zoomOnPinch){var point=(0,pointer.Z)(event),pinchDelta=-event.deltaY*(1===event.deltaMode?.05:event.deltaMode?1:.002)*10,_zoom=currentZoom*Math.pow(2,pinchDelta);d3Zoom.scaleTo(d3Selection,_zoom,point)}else{var deltaNormalize=1===event.deltaMode?20:1,deltaX=panOnScrollMode===index_a12c80bd.h.Vertical?0:event.deltaX*deltaNormalize,deltaY=panOnScrollMode===index_a12c80bd.h.Horizontal?0:event.deltaY*deltaNormalize;d3Zoom.translateBy(d3Selection,-deltaX/currentZoom*panOnScrollSpeed,-deltaY/currentZoom*panOnScrollSpeed)}})).on("wheel.zoom",null):void 0!==d3ZoomHandler&&d3Selection.on("wheel",(function(event){if(!preventScrolling||isWrappedWithClass(event,noWheelClassName))return null;event.preventDefault()})).on("wheel.zoom",d3ZoomHandler))}),[panOnScroll,panOnScrollMode,d3Selection,d3Zoom,d3ZoomHandler,zoomActivationKeyPressed,zoomOnPinch,preventScrolling,noWheelClassName]),(0,react.useEffect)((function(){d3Zoom&&(selectionKeyPressed&&!isZoomingOrPanning.current?d3Zoom.on("zoom",null):selectionKeyPressed||d3Zoom.on("zoom",(function(event){if(store.setState({transform:[event.transform.x,event.transform.y,event.transform.k]}),onMove){var flowTransform=eventToFlowTransform(event.transform);onMove(event.sourceEvent,flowTransform)}})))}),[selectionKeyPressed,d3Zoom,onMove]),(0,react.useEffect)((function(){d3Zoom&&d3Zoom.on("start",(function(event){if(isZoomingOrPanning.current=!0,onMoveStart){var flowTransform=eventToFlowTransform(event.transform);prevTransform.current=flowTransform,onMoveStart(event.sourceEvent,flowTransform)}}))}),[d3Zoom,onMoveStart]),(0,react.useEffect)((function(){d3Zoom&&d3Zoom.on("end",(function(event){if(isZoomingOrPanning.current=!1,onMoveEnd&&function viewChanged(prevViewport,eventViewport){return prevViewport.x!==eventViewport.x||prevViewport.y!==eventViewport.y||prevViewport.zoom!==eventViewport.k}(prevTransform.current,event.transform)){var flowTransform=eventToFlowTransform(event.transform);prevTransform.current=flowTransform,onMoveEnd(event.sourceEvent,flowTransform)}}))}),[d3Zoom,onMoveEnd]),(0,react.useEffect)((function(){d3Zoom&&d3Zoom.filter((function(event){var zoomScroll=zoomActivationKeyPressed||zoomOnScroll,pinchZoom=zoomOnPinch&&event.ctrlKey;return!!(panOnDrag||zoomScroll||panOnScroll||zoomOnDoubleClick||zoomOnPinch)&&(!selectionKeyPressed&&(!(!zoomOnDoubleClick&&"dblclick"===event.type)&&((!isWrappedWithClass(event,noWheelClassName)||"wheel"!==event.type)&&((!isWrappedWithClass(event,noPanClassName)||"wheel"===event.type)&&(!(!zoomOnPinch&&event.ctrlKey&&"wheel"===event.type)&&(!!(zoomScroll||panOnScroll||pinchZoom||"wheel"!==event.type)&&(!!(panOnDrag||"mousedown"!==event.type&&"touchstart"!==event.type)&&!(event.ctrlKey&&"wheel"!==event.type||event.button))))))))}))}),[d3Zoom,zoomOnScroll,zoomOnPinch,panOnScroll,zoomOnDoubleClick,panOnDrag,selectionKeyPressed,elementsSelectable,zoomActivationKeyPressed]),react.createElement("div",{className:"react-flow__renderer react-flow__container",ref:zoomPane},children)};function ownKeys$7(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$7(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$7(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$7(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function getMousePosition(event,containerBounds){return{x:event.clientX-containerBounds.left,y:event.clientY-containerBounds.top}}var selector$5=function selector(s){return{userSelectionActive:s.userSelectionActive,elementsSelectable:s.elementsSelectable}},initialRect={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},UserSelection=(0,react.memo)((function(_ref){var selectionKeyPressed=_ref.selectionKeyPressed,store=(0,index_a12c80bd.u)(),prevSelectedNodesCount=(0,react.useRef)(0),prevSelectedEdgesCount=(0,react.useRef)(0),containerBounds=(0,react.useRef)(),_useState=(0,react.useState)(initialRect),_useState2=(0,index_a12c80bd._)(_useState,2),userSelectionRect=_useState2[0],setUserSelectionRect=_useState2[1],_useStore=(0,index_a12c80bd.b)(selector$5,shallow),userSelectionActive=_useStore.userSelectionActive;if(!_useStore.elementsSelectable||!(userSelectionActive||selectionKeyPressed))return null;var resetUserSelection=function resetUserSelection(){setUserSelectionRect(initialRect),store.setState({userSelectionActive:!1}),prevSelectedNodesCount.current=0,prevSelectedEdgesCount.current=0};return react.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:function onMouseDown(event){var reactFlowNode=event.target.closest(".react-flow");containerBounds.current=reactFlowNode.getBoundingClientRect();var mousePos=getMousePosition(event,containerBounds.current);setUserSelectionRect({width:0,height:0,startX:mousePos.x,startY:mousePos.y,x:mousePos.x,y:mousePos.y,draw:!0}),store.setState({userSelectionActive:!0,nodesSelectionActive:!1})},onMouseMove:function onMouseMove(event){var _userSelectionRect$st,_userSelectionRect$st2;if(selectionKeyPressed&&userSelectionRect.draw&&containerBounds.current){var mousePos=getMousePosition(event,containerBounds.current),startX=null!==(_userSelectionRect$st=userSelectionRect.startX)&&void 0!==_userSelectionRect$st?_userSelectionRect$st:0,startY=null!==(_userSelectionRect$st2=userSelectionRect.startY)&&void 0!==_userSelectionRect$st2?_userSelectionRect$st2:0,nextUserSelectRect=_objectSpread$7(_objectSpread$7({},userSelectionRect),{},{x:mousePos.x<startX?mousePos.x:startX,y:mousePos.y<startY?mousePos.y:startY,width:Math.abs(mousePos.x-startX),height:Math.abs(mousePos.y-startY)}),_store$getState=store.getState(),nodeInternals=_store$getState.nodeInternals,edges=_store$getState.edges,transform=_store$getState.transform,onNodesChange=_store$getState.onNodesChange,onEdgesChange=_store$getState.onEdgesChange,nodes=Array.from(nodeInternals.values()),selectedNodes=(0,index_a12c80bd.k)(nodeInternals,nextUserSelectRect,transform,!1,!0),selectedEdgeIds=(0,index_a12c80bd.e)(selectedNodes,edges).map((function(e){return e.id})),selectedNodeIds=selectedNodes.map((function(n){return n.id}));if(prevSelectedNodesCount.current!==selectedNodeIds.length){prevSelectedNodesCount.current=selectedNodeIds.length;var changes=(0,index_a12c80bd.l)(nodes,selectedNodeIds);changes.length&&(null==onNodesChange||onNodesChange(changes))}if(prevSelectedEdgesCount.current!==selectedEdgeIds.length){prevSelectedEdgesCount.current=selectedEdgeIds.length;var _changes=(0,index_a12c80bd.l)(edges,selectedEdgeIds);_changes.length&&(null==onEdgesChange||onEdgesChange(_changes))}setUserSelectionRect(nextUserSelectRect)}},onMouseUp:function onMouseUp(){store.setState({nodesSelectionActive:prevSelectedNodesCount.current>0}),resetUserSelection()},onMouseLeave:function onMouseLeave(){store.setState({nodesSelectionActive:!1}),resetUserSelection()}},userSelectionRect.draw&&react.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:userSelectionRect.width,height:userSelectionRect.height,transform:"translate(".concat(userSelectionRect.x,"px, ").concat(userSelectionRect.y,"px)")}}))}));function ownKeys$6(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$6(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$6(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$6(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function isParentSelected(node,nodeInternals){if(!node.parentNode)return!1;var parentNode=nodeInternals.get(node.parentNode);return!!parentNode&&(!!parentNode.selected||isParentSelected(parentNode,nodeInternals))}function hasSelector(target,selector,nodeRef){var current=target;do{var _current;if(null!==(_current=current)&&void 0!==_current&&_current.matches(selector))return!0;if(current===nodeRef.current)return!1;current=current.parentElement}while(current);return!1}function getDragItems(nodeInternals,mousePos,nodeId){return Array.from(nodeInternals.values()).filter((function(n){return(n.selected||n.id===nodeId)&&(!n.parentNode||!isParentSelected(n,nodeInternals))})).map((function(n){var _n$positionAbsolute$x,_n$positionAbsolute,_n$positionAbsolute$y,_n$positionAbsolute2;return{id:n.id,position:n.position||{x:0,y:0},positionAbsolute:n.positionAbsolute||{x:0,y:0},distance:{x:mousePos.x-(null!==(_n$positionAbsolute$x=null===(_n$positionAbsolute=n.positionAbsolute)||void 0===_n$positionAbsolute?void 0:_n$positionAbsolute.x)&&void 0!==_n$positionAbsolute$x?_n$positionAbsolute$x:0),y:mousePos.y-(null!==(_n$positionAbsolute$y=null===(_n$positionAbsolute2=n.positionAbsolute)||void 0===_n$positionAbsolute2?void 0:_n$positionAbsolute2.y)&&void 0!==_n$positionAbsolute$y?_n$positionAbsolute$y:0)},delta:{x:0,y:0},extent:n.extent,parentNode:n.parentNode,width:n.width,height:n.height}}))}function getEventHandlerParams(_ref3){var nodeId=_ref3.nodeId,dragItems=_ref3.dragItems,nodeInternals=_ref3.nodeInternals,extentedDragItems=dragItems.map((function(n){return _objectSpread$6(_objectSpread$6({},nodeInternals.get(n.id)),{},{position:n.position,positionAbsolute:n.positionAbsolute})}));return[nodeId?extentedDragItems.find((function(n){return n.id===nodeId})):extentedDragItems[0],extentedDragItems]}function wrapSelectionDragFunc(selectionFunc){return function(event,_,nodes){return null==selectionFunc?void 0:selectionFunc(event,nodes)}}function useDrag(_ref){var nodeRef=_ref.nodeRef,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,noDragClassName=_ref.noDragClassName,handleSelector=_ref.handleSelector,nodeId=_ref.nodeId,isSelectable=_ref.isSelectable,selectNodesOnDrag=_ref.selectNodesOnDrag,_useState=(0,react.useState)(!1),_useState2=(0,index_a12c80bd._)(_useState,2),dragging=_useState2[0],setDragging=_useState2[1],store=(0,index_a12c80bd.u)(),dragItems=(0,react.useRef)(),lastPos=(0,react.useRef)({x:null,y:null}),getPointerPosition=(0,react.useCallback)((function(_ref2){var sourceEvent=_ref2.sourceEvent,_store$getState=store.getState(),transform=_store$getState.transform,snapGrid=_store$getState.snapGrid,snapToGrid=_store$getState.snapToGrid,x=sourceEvent.touches?sourceEvent.touches[0].clientX:sourceEvent.clientX,y=sourceEvent.touches?sourceEvent.touches[0].clientY:sourceEvent.clientY;return(0,index_a12c80bd.p)({x,y},transform,snapToGrid,snapGrid)}),[]);return(0,react.useEffect)((function(){if(null!=nodeRef&&nodeRef.current){var selection=(0,src_select.Z)(nodeRef.current);if(!disabled){var dragHandler=function drag(){var mousedownx,mousedowny,mousemoving,touchending,filter=defaultFilter,container=defaultContainer,subject=defaultSubject,touchable=defaultTouchable,gestures={},listeners=(0,dispatch.Z)("start","drag","end"),active=0,clickDistance2=0;function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved,noevent.Q7).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(event,d){if(!touchending&&filter.call(this,event,d)){var gesture=beforestart(this,container.call(this,event,d),event,d,"mouse");gesture&&((0,src_select.Z)(event.view).on("mousemove.drag",mousemoved,noevent.Dd).on("mouseup.drag",mouseupped,noevent.Dd),(0,nodrag.Z)(event.view),(0,noevent.rG)(event),mousemoving=!1,mousedownx=event.clientX,mousedowny=event.clientY,gesture("start",event))}}function mousemoved(event){if((0,noevent.ZP)(event),!mousemoving){var dx=event.clientX-mousedownx,dy=event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag",event)}function mouseupped(event){(0,src_select.Z)(event.view).on("mousemove.drag mouseup.drag",null),(0,nodrag.D)(event.view,mousemoving),(0,noevent.ZP)(event),gestures.mouse("end",event)}function touchstarted(event,d){if(filter.call(this,event,d)){var i,gesture,touches=event.changedTouches,c=container.call(this,event,d),n=touches.length;for(i=0;i<n;++i)(gesture=beforestart(this,c,event,d,touches[i].identifier,touches[i]))&&((0,noevent.rG)(event),gesture("start",event,touches[i]))}}function touchmoved(event){var i,gesture,touches=event.changedTouches,n=touches.length;for(i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&((0,noevent.ZP)(event),gesture("drag",event,touches[i]))}function touchended(event){var i,gesture,touches=event.changedTouches,n=touches.length;for(touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500),i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&((0,noevent.rG)(event),gesture("end",event,touches[i]))}function beforestart(that,container,event,d,identifier,touch){var dx,dy,s,dispatch=listeners.copy(),p=(0,pointer.Z)(touch||event,container);if(null!=(s=subject.call(that,new DragEvent("beforestart",{sourceEvent:event,target:drag,identifier,active,x:p[0],y:p[1],dx:0,dy:0,dispatch}),d)))return dx=s.x-p[0]||0,dy=s.y-p[1]||0,function gesture(type,event,touch){var n,p0=p;switch(type){case"start":gestures[identifier]=gesture,n=active++;break;case"end":delete gestures[identifier],--active;case"drag":p=(0,pointer.Z)(touch||event,container),n=active}dispatch.call(type,that,new DragEvent(type,{sourceEvent:event,subject:s,target:drag,identifier,active:n,x:p[0]+dx,y:p[1]+dy,dx:p[0]-p0[0],dy:p[1]-p0[1],dispatch}),d)}}return drag.filter=function(_){return arguments.length?(filter="function"==typeof _?_:constant(!!_),drag):filter},drag.container=function(_){return arguments.length?(container="function"==typeof _?_:constant(_),drag):container},drag.subject=function(_){return arguments.length?(subject="function"==typeof _?_:constant(_),drag):subject},drag.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:constant(!!_),drag):touchable},drag.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?drag:value},drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)},drag}().on("start",(function(event){var _nodeInternals$get,_store$getState2=store.getState(),nodeInternals=_store$getState2.nodeInternals,multiSelectionActive=_store$getState2.multiSelectionActive,unselectNodesAndEdges=_store$getState2.unselectNodesAndEdges,onNodeDragStart=_store$getState2.onNodeDragStart,onSelectionDragStart=_store$getState2.onSelectionDragStart,onStart=nodeId?onNodeDragStart:wrapSelectionDragFunc(onSelectionDragStart);selectNodesOnDrag||multiSelectionActive||!nodeId||(null!==(_nodeInternals$get=nodeInternals.get(nodeId))&&void 0!==_nodeInternals$get&&_nodeInternals$get.selected||unselectNodesAndEdges());nodeId&&isSelectable&&selectNodesOnDrag&&(0,index_a12c80bd.n)({id:nodeId,store});var pointerPos=getPointerPosition(event);if(lastPos.current=pointerPos,dragItems.current=getDragItems(nodeInternals,pointerPos,nodeId),onStart&&dragItems.current){var _getEventHandlerParam=getEventHandlerParams({nodeId,dragItems:dragItems.current,nodeInternals}),_getEventHandlerParam2=(0,index_a12c80bd._)(_getEventHandlerParam,2),currentNode=_getEventHandlerParam2[0],nodes=_getEventHandlerParam2[1];onStart(event.sourceEvent,currentNode,nodes)}})).on("drag",(function(event){var _store$getState3=store.getState(),updateNodePositions=_store$getState3.updateNodePositions,snapToGrid=_store$getState3.snapToGrid,snapGrid=_store$getState3.snapGrid,nodeInternals=_store$getState3.nodeInternals,nodeExtent=_store$getState3.nodeExtent,onNodeDrag=_store$getState3.onNodeDrag,onSelectionDrag=_store$getState3.onSelectionDrag,pointerPos=getPointerPosition(event);if((lastPos.current.x!==pointerPos.x||lastPos.current.y!==pointerPos.y)&&dragItems.current){lastPos.current=pointerPos,dragItems.current=dragItems.current.map((function(n){return function updatePosition(dragItem,mousePos,snapToGrid,_ref,nodeInternals,nodeExtent){var _ref2=(0,index_a12c80bd._)(_ref,2),snapX=_ref2[0],snapY=_ref2[1],currentExtent=dragItem.extent||nodeExtent,nextPosition={x:mousePos.x-dragItem.distance.x,y:mousePos.y-dragItem.distance.y};if(snapToGrid&&(nextPosition.x=snapX*Math.round(nextPosition.x/snapX),nextPosition.y=snapY*Math.round(nextPosition.y/snapY)),"parent"===dragItem.extent)if(dragItem.parentNode&&dragItem.width&&dragItem.height){var parent=nodeInternals.get(dragItem.parentNode);currentExtent=null!=parent&&parent.positionAbsolute&&null!=parent&&parent.width&&null!=parent&&parent.height?[[parent.positionAbsolute.x,parent.positionAbsolute.y],[parent.positionAbsolute.x+parent.width-dragItem.width,parent.positionAbsolute.y+parent.height-dragItem.height]]:currentExtent}else currentExtent=nodeExtent;else if(dragItem.extent&&dragItem.parentNode){var _parent$positionAbsol,_parent$positionAbsol2,_parent$positionAbsol3,_parent$positionAbsol4,_parent=nodeInternals.get(dragItem.parentNode),parentX=null!==(_parent$positionAbsol=null==_parent||null===(_parent$positionAbsol2=_parent.positionAbsolute)||void 0===_parent$positionAbsol2?void 0:_parent$positionAbsol2.x)&&void 0!==_parent$positionAbsol?_parent$positionAbsol:0,parentY=null!==(_parent$positionAbsol3=null==_parent||null===(_parent$positionAbsol4=_parent.positionAbsolute)||void 0===_parent$positionAbsol4?void 0:_parent$positionAbsol4.y)&&void 0!==_parent$positionAbsol3?_parent$positionAbsol3:0;currentExtent=[[dragItem.extent[0][0]+parentX,dragItem.extent[0][1]+parentY],[dragItem.extent[1][0]+parentX,dragItem.extent[1][1]+parentY]]}var parentPosition={x:0,y:0};if(dragItem.parentNode){var _parentNode$positionA,_parentNode$positionA2,_parentNode$positionA3,_parentNode$positionA4,parentNode=nodeInternals.get(dragItem.parentNode);parentPosition={x:null!==(_parentNode$positionA=null==parentNode||null===(_parentNode$positionA2=parentNode.positionAbsolute)||void 0===_parentNode$positionA2?void 0:_parentNode$positionA2.x)&&void 0!==_parentNode$positionA?_parentNode$positionA:0,y:null!==(_parentNode$positionA3=null==parentNode||null===(_parentNode$positionA4=parentNode.positionAbsolute)||void 0===_parentNode$positionA4?void 0:_parentNode$positionA4.y)&&void 0!==_parentNode$positionA3?_parentNode$positionA3:0}}return dragItem.positionAbsolute=currentExtent?(0,index_a12c80bd.m)(nextPosition,currentExtent):nextPosition,dragItem.position={x:dragItem.positionAbsolute.x-parentPosition.x,y:dragItem.positionAbsolute.y-parentPosition.y},dragItem}(n,pointerPos,snapToGrid,snapGrid,nodeInternals,nodeExtent)}));var onDrag=nodeId?onNodeDrag:wrapSelectionDragFunc(onSelectionDrag);if(updateNodePositions(dragItems.current,!0,!0),setDragging(!0),onDrag){var _getEventHandlerParam3=getEventHandlerParams({nodeId,dragItems:dragItems.current,nodeInternals}),_getEventHandlerParam4=(0,index_a12c80bd._)(_getEventHandlerParam3,2),currentNode=_getEventHandlerParam4[0],nodes=_getEventHandlerParam4[1];onDrag(event.sourceEvent,currentNode,nodes)}}event.on("end",(function(event){if(setDragging(!1),dragItems.current){var _store$getState4=store.getState(),_updateNodePositions=_store$getState4.updateNodePositions,_nodeInternals=_store$getState4.nodeInternals,onNodeDragStop=_store$getState4.onNodeDragStop,onSelectionDragStop=_store$getState4.onSelectionDragStop,onStop=nodeId?onNodeDragStop:wrapSelectionDragFunc(onSelectionDragStop);if(_updateNodePositions(dragItems.current,!1,!1),onStop){var _getEventHandlerParam5=getEventHandlerParams({nodeId,dragItems:dragItems.current,nodeInternals:_nodeInternals}),_getEventHandlerParam6=(0,index_a12c80bd._)(_getEventHandlerParam5,2),_currentNode=_getEventHandlerParam6[0],_nodes=_getEventHandlerParam6[1];onStop(event.sourceEvent,_currentNode,_nodes)}}}))})).filter((function(event){var target=event.target;return!event.button&&(!noDragClassName||!hasSelector(target,".".concat(noDragClassName),nodeRef))&&(!handleSelector||hasSelector(target,handleSelector,nodeRef))}));return selection.call(dragHandler),function(){selection.on(".drag",null)}}selection.on(".drag",null)}}),[nodeRef,disabled,noDragClassName,handleSelector,isSelectable,store,nodeId,selectNodesOnDrag,getPointerPosition]),dragging}function ownKeys$5(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var selector$4=function selector(s){return function _objectSpread$5(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$5(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$5(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({transformString:"translate(".concat(s.transform[0],"px,").concat(s.transform[1],"px) scale(").concat(s.transform[2],")"),userSelectionActive:s.userSelectionActive},(0,index_a12c80bd.o)(Array.from(s.nodeInternals.values()).filter((function(n){return n.selected}))))},bboxSelector=function bboxSelector(s){var selectedNodes=Array.from(s.nodeInternals.values()).filter((function(n){return n.selected}));return(0,index_a12c80bd.o)(selectedNodes)};function NodesSelection(_ref){var onSelectionContextMenu=_ref.onSelectionContextMenu,noPanClassName=_ref.noPanClassName,store=(0,index_a12c80bd.u)(),_useStore=(0,index_a12c80bd.b)(selector$4,shallow),transformString=_useStore.transformString,userSelectionActive=_useStore.userSelectionActive,_useStore2=(0,index_a12c80bd.b)(bboxSelector,shallow),width=_useStore2.width,height=_useStore2.height,left=_useStore2.x,top=_useStore2.y,nodeRef=(0,react.useRef)(null);if(useDrag({nodeRef}),userSelectionActive||!width||!height)return null;var onContextMenu=onSelectionContextMenu?function(event){var selectedNodes=Array.from(store.getState().nodeInternals.values()).filter((function(n){return n.selected}));onSelectionContextMenu(event,selectedNodes)}:void 0;return react.createElement("div",{className:cc(["react-flow__nodesselection","react-flow__container",noPanClassName]),style:{transform:transformString}},react.createElement("div",{ref:nodeRef,className:"react-flow__nodesselection-rect",onContextMenu,style:{width,height,top,left}}))}var NodesSelection$1=(0,react.memo)(NodesSelection),selector$3=function selector(s){return s.nodesSelectionActive},FlowRenderer=function FlowRenderer(_ref){var children=_ref.children,onPaneClick=_ref.onPaneClick,onPaneContextMenu=_ref.onPaneContextMenu,onPaneScroll=_ref.onPaneScroll,deleteKeyCode=_ref.deleteKeyCode,onMove=_ref.onMove,onMoveStart=_ref.onMoveStart,onMoveEnd=_ref.onMoveEnd,selectionKeyCode=_ref.selectionKeyCode,multiSelectionKeyCode=_ref.multiSelectionKeyCode,zoomActivationKeyCode=_ref.zoomActivationKeyCode,elementsSelectable=_ref.elementsSelectable,zoomOnScroll=_ref.zoomOnScroll,zoomOnPinch=_ref.zoomOnPinch,panOnScroll=_ref.panOnScroll,panOnScrollSpeed=_ref.panOnScrollSpeed,panOnScrollMode=_ref.panOnScrollMode,zoomOnDoubleClick=_ref.zoomOnDoubleClick,panOnDrag=_ref.panOnDrag,translateExtent=_ref.translateExtent,minZoom=_ref.minZoom,maxZoom=_ref.maxZoom,defaultZoom=_ref.defaultZoom,defaultPosition=_ref.defaultPosition,preventScrolling=_ref.preventScrolling,onSelectionContextMenu=_ref.onSelectionContextMenu,noWheelClassName=_ref.noWheelClassName,noPanClassName=_ref.noPanClassName,store=(0,index_a12c80bd.u)(),nodesSelectionActive=(0,index_a12c80bd.b)(selector$3),selectionKeyPressed=useKeyPress(selectionKeyCode);!function(_ref){var deleteKeyCode=_ref.deleteKeyCode,multiSelectionKeyCode=_ref.multiSelectionKeyCode,store=(0,index_a12c80bd.u)(),_useStore=(0,index_a12c80bd.b)(selector$7,shallow),onNodesChange=_useStore.onNodesChange,onEdgesChange=_useStore.onEdgesChange,deleteKeyPressed=useKeyPress(deleteKeyCode),multiSelectionKeyPressed=useKeyPress(multiSelectionKeyCode);(0,react.useEffect)((function(){var _store$getState=store.getState(),nodeInternals=_store$getState.nodeInternals,edges=_store$getState.edges,hasDefaultNodes=_store$getState.hasDefaultNodes,hasDefaultEdges=_store$getState.hasDefaultEdges,onNodesDelete=_store$getState.onNodesDelete,onEdgesDelete=_store$getState.onEdgesDelete,nodesToRemove=Array.from(nodeInternals.values()).reduce((function(res,node){return(!node.selected&&node.parentNode&&res.find((function(n){return n.id===node.parentNode}))||node.selected)&&res.push(node),res}),[]),selectedEdges=edges.filter((function(e){return e.selected}));if(deleteKeyPressed&&(nodesToRemove||selectedEdges)){var connectedEdges=(0,index_a12c80bd.e)(nodesToRemove,edges),edgesToRemove=[].concat(_toConsumableArray(selectedEdges),_toConsumableArray(connectedEdges)),edgeIdsToRemove=edgesToRemove.reduce((function(res,edge){return res.includes(edge.id)||res.push(edge.id),res}),[]);if((hasDefaultEdges||hasDefaultNodes)&&(hasDefaultEdges&&store.setState({edges:edges.filter((function(e){return!edgeIdsToRemove.includes(e.id)}))}),hasDefaultNodes&&(nodesToRemove.forEach((function(node){nodeInternals.delete(node.id)})),store.setState({nodeInternals:new Map(nodeInternals)}))),edgeIdsToRemove.length>0&&(null==onEdgesDelete||onEdgesDelete(edgesToRemove),onEdgesChange)){var edgeChanges=edgeIdsToRemove.map((function(id){return{id,type:"remove"}}));onEdgesChange(edgeChanges)}if(nodesToRemove.length>0&&(null==onNodesDelete||onNodesDelete(nodesToRemove),onNodesChange)){var nodeChanges=nodesToRemove.map((function(n){return{id:n.id,type:"remove"}}));onNodesChange(nodeChanges)}store.setState({nodesSelectionActive:!1})}}),[deleteKeyPressed,onNodesChange,onEdgesChange]),(0,react.useEffect)((function(){store.setState({multiSelectionActive:multiSelectionKeyPressed})}),[multiSelectionKeyPressed])}({deleteKeyCode,multiSelectionKeyCode});var onContextMenu=onPaneContextMenu?function(event){return onPaneContextMenu(event)}:void 0,onWheel=onPaneScroll?function(event){return onPaneScroll(event)}:void 0;return react.createElement(ZoomPane,{onMove,onMoveStart,onMoveEnd,selectionKeyPressed,elementsSelectable,zoomOnScroll,zoomOnPinch,panOnScroll,panOnScrollSpeed,panOnScrollMode,zoomOnDoubleClick,panOnDrag,translateExtent,minZoom,maxZoom,defaultZoom,defaultPosition,zoomActivationKeyCode,preventScrolling,noWheelClassName,noPanClassName},children,react.createElement(UserSelection,{selectionKeyPressed}),nodesSelectionActive&&react.createElement(NodesSelection$1,{onSelectionContextMenu,noPanClassName}),react.createElement("div",{className:"react-flow__pane react-flow__container",onClick:function onClick(event){null==onPaneClick||onPaneClick(event),store.getState().resetSelectedElements(),store.setState({nodesSelectionActive:!1})},onContextMenu,onWheel}))};FlowRenderer.displayName="FlowRenderer";var FlowRenderer$1=(0,react.memo)(FlowRenderer);var selector$2=function selector(s){return{nodesDraggable:s.nodesDraggable,nodesConnectable:s.nodesConnectable,elementsSelectable:s.elementsSelectable,updateNodeDimensions:s.updateNodeDimensions}},NodeRenderer=function NodeRenderer(props){var _useStore=(0,index_a12c80bd.b)(selector$2,shallow),nodesDraggable=_useStore.nodesDraggable,nodesConnectable=_useStore.nodesConnectable,elementsSelectable=_useStore.elementsSelectable,updateNodeDimensions=_useStore.updateNodeDimensions,nodes=function useVisibleNodes(onlyRenderVisible){return(0,index_a12c80bd.b)((0,react.useCallback)((function(s){return onlyRenderVisible?(0,index_a12c80bd.k)(s.nodeInternals,{x:0,y:0,width:s.width,height:s.height},s.transform,!0):Array.from(s.nodeInternals.values())}),[onlyRenderVisible]))}(props.onlyRenderVisibleElements),resizeObserverRef=(0,react.useRef)(),resizeObserver=(0,react.useMemo)((function(){if("undefined"==typeof ResizeObserver)return null;var observer=new ResizeObserver((function(entries){var updates=entries.map((function(entry){return{id:entry.target.getAttribute("data-id"),nodeElement:entry.target,forceUpdate:!0}}));updateNodeDimensions(updates)}));return resizeObserverRef.current=observer,observer}),[]);return(0,react.useEffect)((function(){return function(){var _resizeObserverRef$cu;null==resizeObserverRef||null===(_resizeObserverRef$cu=resizeObserverRef.current)||void 0===_resizeObserverRef$cu||_resizeObserverRef$cu.disconnect()}}),[]),react.createElement("div",{className:"react-flow__nodes react-flow__container"},nodes.map((function(node){var _node$positionAbsolut,_node$positionAbsolut2,_node$positionAbsolut3,_node$positionAbsolut4,_node$internalsSymbol,_node$internalsSymbol2,_node$internalsSymbol3,nodeType=node.type||"default";props.nodeTypes[nodeType]||(nodeType="default");var NodeComponent=props.nodeTypes[nodeType]||props.nodeTypes.default,isDraggable=!!(node.draggable||nodesDraggable&&void 0===node.draggable),isSelectable=!!(node.selectable||elementsSelectable&&void 0===node.selectable),isConnectable=!!(node.connectable||nodesConnectable&&void 0===node.connectable);return react.createElement(NodeComponent,{key:node.id,id:node.id,className:node.className,style:node.style,type:nodeType,data:node.data,sourcePosition:node.sourcePosition||index_a12c80bd.P.Bottom,targetPosition:node.targetPosition||index_a12c80bd.P.Top,hidden:node.hidden,xPos:null!==(_node$positionAbsolut=null===(_node$positionAbsolut2=node.positionAbsolute)||void 0===_node$positionAbsolut2?void 0:_node$positionAbsolut2.x)&&void 0!==_node$positionAbsolut?_node$positionAbsolut:0,yPos:null!==(_node$positionAbsolut3=null===(_node$positionAbsolut4=node.positionAbsolute)||void 0===_node$positionAbsolut4?void 0:_node$positionAbsolut4.y)&&void 0!==_node$positionAbsolut3?_node$positionAbsolut3:0,selectNodesOnDrag:props.selectNodesOnDrag,onClick:props.onNodeClick,onMouseEnter:props.onNodeMouseEnter,onMouseMove:props.onNodeMouseMove,onMouseLeave:props.onNodeMouseLeave,onContextMenu:props.onNodeContextMenu,onDoubleClick:props.onNodeDoubleClick,selected:!!node.selected,isDraggable,isSelectable,isConnectable,resizeObserver,dragHandle:node.dragHandle,zIndex:null!==(_node$internalsSymbol=null===(_node$internalsSymbol2=node[index_a12c80bd.i])||void 0===_node$internalsSymbol2?void 0:_node$internalsSymbol2.z)&&void 0!==_node$internalsSymbol?_node$internalsSymbol:0,isParent:!(null===(_node$internalsSymbol3=node[index_a12c80bd.i])||void 0===_node$internalsSymbol3||!_node$internalsSymbol3.isParent),noDragClassName:props.noDragClassName,noPanClassName:props.noPanClassName,initialized:!!node.width&&!!node.height})})))};NodeRenderer.displayName="NodeRenderer";var _oppositePosition,NodeRenderer$1=(0,react.memo)(NodeRenderer);function ownKeys$4(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$4(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$4(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$4(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var _MarkerSymbols,oppositePosition=(_oppositePosition={},(0,index_a12c80bd.a)(_oppositePosition,index_a12c80bd.P.Left,index_a12c80bd.P.Right),(0,index_a12c80bd.a)(_oppositePosition,index_a12c80bd.P.Right,index_a12c80bd.P.Left),(0,index_a12c80bd.a)(_oppositePosition,index_a12c80bd.P.Top,index_a12c80bd.P.Bottom),(0,index_a12c80bd.a)(_oppositePosition,index_a12c80bd.P.Bottom,index_a12c80bd.P.Top),_oppositePosition),ConnectionLine=function(_ref){var _fromNode$internalsSy,_fromNode$width,_fromNode$height,_fromNode$positionAbs,_fromNode$positionAbs2,connectionNodeId=_ref.connectionNodeId,connectionHandleType=_ref.connectionHandleType,connectionLineStyle=_ref.connectionLineStyle,_ref$connectionLineTy=_ref.connectionLineType,connectionLineType=void 0===_ref$connectionLineTy?index_a12c80bd.q.Bezier:_ref$connectionLineTy,isConnectable=_ref.isConnectable,CustomConnectionLineComponent=_ref.CustomConnectionLineComponent,_useStore=(0,index_a12c80bd.b)((0,react.useCallback)((function(s){return{fromNode:s.nodeInternals.get(connectionNodeId),handleId:s.connectionHandleId,toX:(s.connectionPosition.x-s.transform[0])/s.transform[2],toY:(s.connectionPosition.y-s.transform[1])/s.transform[2]}}),[connectionNodeId]),shallow),fromNode=_useStore.fromNode,handleId=_useStore.handleId,toX=_useStore.toX,toY=_useStore.toY,fromHandleBounds=null==fromNode||null===(_fromNode$internalsSy=fromNode[index_a12c80bd.i])||void 0===_fromNode$internalsSy?void 0:_fromNode$internalsSy.handleBounds;if(!fromNode||!isConnectable||null==fromHandleBounds||!fromHandleBounds[connectionHandleType])return null;var handleBound=fromHandleBounds[connectionHandleType],fromHandle=handleId?handleBound.find((function(d){return d.id===handleId})):handleBound[0],fromHandleX=fromHandle?fromHandle.x+fromHandle.width/2:(null!==(_fromNode$width=null==fromNode?void 0:fromNode.width)&&void 0!==_fromNode$width?_fromNode$width:0)/2,fromHandleY=fromHandle?fromHandle.y+fromHandle.height/2:null!==(_fromNode$height=null==fromNode?void 0:fromNode.height)&&void 0!==_fromNode$height?_fromNode$height:0,fromX=((null==fromNode||null===(_fromNode$positionAbs=fromNode.positionAbsolute)||void 0===_fromNode$positionAbs?void 0:_fromNode$positionAbs.x)||0)+fromHandleX,fromY=((null==fromNode||null===(_fromNode$positionAbs2=fromNode.positionAbsolute)||void 0===_fromNode$positionAbs2?void 0:_fromNode$positionAbs2.y)||0)+fromHandleY,fromPosition=null==fromHandle?void 0:fromHandle.position;if(!fromPosition)return null;var sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition,toPosition=oppositePosition[fromPosition];switch(connectionHandleType){case"source":sourceX=fromX,sourceY=fromY,sourcePosition=fromPosition,targetX=toX,targetY=toY,targetPosition=toPosition;break;case"target":sourceX=toX,sourceY=toY,sourcePosition=toPosition,targetX=fromX,targetY=fromY,targetPosition=fromPosition}if(CustomConnectionLineComponent)return react.createElement("g",{className:"react-flow__connection"},react.createElement(CustomConnectionLineComponent,{connectionLineType,connectionLineStyle,fromNode,fromHandle,fromX,fromY,toX,toY,fromPosition,toPosition,sourcePosition,targetPosition,sourceNode:fromNode,sourceHandle:fromHandle,targetX,targetY,sourceX,sourceY}));var dAttr="",pathParams={sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition};return dAttr=connectionLineType===index_a12c80bd.q.Bezier?getBezierPath(pathParams):connectionLineType===index_a12c80bd.q.Step?getSmoothStepPath(_objectSpread$4(_objectSpread$4({},pathParams),{},{borderRadius:0})):connectionLineType===index_a12c80bd.q.SmoothStep?getSmoothStepPath(pathParams):connectionLineType===index_a12c80bd.q.SimpleBezier?getSimpleBezierPath(pathParams):"M".concat(sourceX,",").concat(sourceY," ").concat(targetX,",").concat(targetY),react.createElement("g",{className:"react-flow__connection"},react.createElement("path",{d:dAttr,className:"react-flow__connection-path",style:connectionLineStyle}))};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var MarkerSymbols=(_MarkerSymbols={},(0,index_a12c80bd.a)(_MarkerSymbols,index_a12c80bd.M.Arrow,(function ArrowSymbol(_ref){var _ref$color=_ref.color,color=void 0===_ref$color?"none":_ref$color,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?1:_ref$strokeWidth;return react.createElement("polyline",{stroke:color,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"})})),(0,index_a12c80bd.a)(_MarkerSymbols,index_a12c80bd.M.ArrowClosed,(function ArrowClosedSymbol(_ref2){var _ref2$color=_ref2.color,color=void 0===_ref2$color?"none":_ref2$color,_ref2$strokeWidth=_ref2.strokeWidth,strokeWidth=void 0===_ref2$strokeWidth?1:_ref2$strokeWidth;return react.createElement("polyline",{stroke:color,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth,fill:color,points:"-5,-4 0,0 -5,4 -5,-4"})})),_MarkerSymbols);function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var Marker=function Marker(_ref){var id=_ref.id,type=_ref.type,color=_ref.color,_ref$width=_ref.width,width=void 0===_ref$width?12.5:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?12.5:_ref$height,_ref$markerUnits=_ref.markerUnits,markerUnits=void 0===_ref$markerUnits?"strokeWidth":_ref$markerUnits,strokeWidth=_ref.strokeWidth,_ref$orient=_ref.orient,orient=void 0===_ref$orient?"auto":_ref$orient,_Symbol=function useMarkerSymbol(type){return(0,react.useMemo)((function(){return MarkerSymbols.hasOwnProperty(type)?MarkerSymbols[type]:function(){return null}}),[type])}(type);return react.createElement("marker",{className:"react-flow__arrowhead",id,markerWidth:"".concat(width),markerHeight:"".concat(height),viewBox:"-10 -10 20 20",markerUnits,orient,refX:"0",refY:"0"},react.createElement(_Symbol,{color,strokeWidth}))},markerSelector=function markerSelector(_ref2){var defaultColor=_ref2.defaultColor,rfId=_ref2.rfId;return function(s){var ids=[];return s.edges.reduce((function(markers,edge){return[edge.markerStart,edge.markerEnd].forEach((function(marker){if(marker&&"object"===_typeof(marker)){var markerId=(0,index_a12c80bd.d)(marker,rfId);ids.includes(markerId)||(markers.push(function _objectSpread$3(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$3(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$3(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({id:markerId,color:marker.color||defaultColor},marker)),ids.push(markerId))}})),markers}),[]).sort((function(a,b){return a.id.localeCompare(b.id)}))}},MarkerDefinitions=function MarkerDefinitions(_ref3){var defaultColor=_ref3.defaultColor,rfId=_ref3.rfId,markers=(0,index_a12c80bd.b)((0,react.useCallback)(markerSelector({defaultColor,rfId}),[defaultColor,rfId]),(function(a,b){return!(a.length!==b.length||a.some((function(m,i){return m.id!==b[i].id})))}));return react.createElement("defs",null,markers.map((function(marker){return react.createElement(Marker,{id:marker.id,key:marker.id,type:marker.type,color:marker.color,width:marker.width,height:marker.height,markerUnits:marker.markerUnits,strokeWidth:marker.strokeWidth,orient:marker.orient})})))};MarkerDefinitions.displayName="MarkerDefinitions";var MarkerDefinitions$1=(0,react.memo)(MarkerDefinitions),defaultEdgeTree=[{level:0,isMaxLevel:!0,edges:[]}];function useVisibleEdges(onlyRenderVisible,nodeInternals,elevateEdgesOnSelect){return function groupEdgesByZLevel(edges,nodeInternals){var elevateEdgesOnSelect=arguments.length>2&&void 0!==arguments[2]&&arguments[2],maxLevel=-1,levelLookup=edges.reduce((function(tree,edge){var _nodeInternals$get,_nodeInternals$get$in,_nodeInternals$get2,_nodeInternals$get2$i,hasZIndex=(0,index_a12c80bd.s)(edge.zIndex),z=hasZIndex?edge.zIndex:0;return elevateEdgesOnSelect&&(z=hasZIndex?edge.zIndex:Math.max((null===(_nodeInternals$get=nodeInternals.get(edge.source))||void 0===_nodeInternals$get||null===(_nodeInternals$get$in=_nodeInternals$get[index_a12c80bd.i])||void 0===_nodeInternals$get$in?void 0:_nodeInternals$get$in.z)||0,(null===(_nodeInternals$get2=nodeInternals.get(edge.target))||void 0===_nodeInternals$get2||null===(_nodeInternals$get2$i=_nodeInternals$get2[index_a12c80bd.i])||void 0===_nodeInternals$get2$i?void 0:_nodeInternals$get2$i.z)||0)),tree[z]?tree[z].push(edge):tree[z]=[edge],maxLevel=z>maxLevel?z:maxLevel,tree}),{}),edgeTree=Object.entries(levelLookup).map((function(_ref){var _ref2=(0,index_a12c80bd._)(_ref,2),level=+_ref2[0];return{edges:_ref2[1],level,isMaxLevel:level===maxLevel}}));return 0===edgeTree.length?defaultEdgeTree:edgeTree}((0,index_a12c80bd.b)((0,react.useCallback)((function(s){return onlyRenderVisible?s.edges.filter((function(e){var sourceNode=nodeInternals.get(e.source),targetNode=nodeInternals.get(e.target);return(null==sourceNode?void 0:sourceNode.width)&&(null==sourceNode?void 0:sourceNode.height)&&(null==targetNode?void 0:targetNode.width)&&(null==targetNode?void 0:targetNode.height)&&function isEdgeVisible(_ref){var sourcePos=_ref.sourcePos,targetPos=_ref.targetPos,sourceWidth=_ref.sourceWidth,sourceHeight=_ref.sourceHeight,targetWidth=_ref.targetWidth,targetHeight=_ref.targetHeight,width=_ref.width,height=_ref.height,transform=_ref.transform,edgeBox={x:Math.min(sourcePos.x,targetPos.x),y:Math.min(sourcePos.y,targetPos.y),x2:Math.max(sourcePos.x+sourceWidth,targetPos.x+targetWidth),y2:Math.max(sourcePos.y+sourceHeight,targetPos.y+targetHeight)};edgeBox.x===edgeBox.x2&&(edgeBox.x2+=1),edgeBox.y===edgeBox.y2&&(edgeBox.y2+=1);var viewBox=(0,index_a12c80bd.r)({x:(0-transform[0])/transform[2],y:(0-transform[1])/transform[2],width:width/transform[2],height:height/transform[2]}),xOverlap=Math.max(0,Math.min(viewBox.x2,edgeBox.x2)-Math.max(viewBox.x,edgeBox.x)),yOverlap=Math.max(0,Math.min(viewBox.y2,edgeBox.y2)-Math.max(viewBox.y,edgeBox.y));return Math.ceil(xOverlap*yOverlap)>0}({sourcePos:sourceNode.positionAbsolute||{x:0,y:0},targetPos:targetNode.positionAbsolute||{x:0,y:0},sourceWidth:sourceNode.width,sourceHeight:sourceNode.height,targetWidth:targetNode.width,targetHeight:targetNode.height,width:s.width,height:s.height,transform:s.transform})})):s.edges}),[onlyRenderVisible,nodeInternals])),nodeInternals,elevateEdgesOnSelect)}var selector$1=function selector(s){return{connectionNodeId:s.connectionNodeId,connectionHandleType:s.connectionHandleType,nodesConnectable:s.nodesConnectable,elementsSelectable:s.elementsSelectable,width:s.width,height:s.height,connectionMode:s.connectionMode,nodeInternals:s.nodeInternals}},EdgeRenderer=function EdgeRenderer(props){var _useStore=(0,index_a12c80bd.b)(selector$1,shallow),connectionNodeId=_useStore.connectionNodeId,connectionHandleType=_useStore.connectionHandleType,nodesConnectable=_useStore.nodesConnectable,elementsSelectable=_useStore.elementsSelectable,width=_useStore.width,height=_useStore.height,connectionMode=_useStore.connectionMode,nodeInternals=_useStore.nodeInternals,edgeTree=useVisibleEdges(props.onlyRenderVisibleElements,nodeInternals,props.elevateEdgesOnSelect);if(!width)return null;var connectionLineType=props.connectionLineType,defaultMarkerColor=props.defaultMarkerColor,connectionLineStyle=props.connectionLineStyle,connectionLineComponent=props.connectionLineComponent,connectionLineContainerStyle=props.connectionLineContainerStyle,renderConnectionLine=connectionNodeId&&connectionHandleType;return react.createElement(react.Fragment,null,edgeTree.map((function(_ref){var level=_ref.level,edges=_ref.edges,isMaxLevel=_ref.isMaxLevel;return react.createElement("svg",{key:level,style:{zIndex:level},width,height,className:"react-flow__edges react-flow__container"},isMaxLevel&&react.createElement(MarkerDefinitions$1,{defaultColor:defaultMarkerColor,rfId:props.rfId}),react.createElement("g",null,edges.map((function(edge){var _getNodeData=getNodeData(nodeInternals,edge.source),_getNodeData2=(0,index_a12c80bd._)(_getNodeData,3),sourceNodeRect=_getNodeData2[0],sourceHandleBounds=_getNodeData2[1],sourceIsValid=_getNodeData2[2],_getNodeData3=getNodeData(nodeInternals,edge.target),_getNodeData4=(0,index_a12c80bd._)(_getNodeData3,3),targetNodeRect=_getNodeData4[0],targetHandleBounds=_getNodeData4[1],targetIsValid=_getNodeData4[2];if(!sourceIsValid||!targetIsValid)return null;var edgeType=edge.type||"default";props.edgeTypes[edgeType]||(console.warn('[React Flow]: Edge type "'.concat(edgeType,'" not found. Using fallback type "default". Help: https://reactflow.dev/error#300')),edgeType="default");var EdgeComponent=props.edgeTypes[edgeType]||props.edgeTypes.default,targetNodeHandles=connectionMode===index_a12c80bd.C.Strict?targetHandleBounds.target:targetHandleBounds.target||targetHandleBounds.source,sourceHandle=getHandle(sourceHandleBounds.source,edge.sourceHandle||null),targetHandle=getHandle(targetNodeHandles,edge.targetHandle||null),sourcePosition=(null==sourceHandle?void 0:sourceHandle.position)||index_a12c80bd.P.Bottom,targetPosition=(null==targetHandle?void 0:targetHandle.position)||index_a12c80bd.P.Top;if(!sourceHandle)return null;if(!targetHandle)return null;var _getEdgePositions=function getEdgePositions(sourceNodeRect,sourceHandle,sourcePosition,targetNodeRect,targetHandle,targetPosition){var sourceHandlePos=getHandlePosition(sourcePosition,sourceNodeRect,sourceHandle),targetHandlePos=getHandlePosition(targetPosition,targetNodeRect,targetHandle);return{sourceX:sourceHandlePos.x,sourceY:sourceHandlePos.y,targetX:targetHandlePos.x,targetY:targetHandlePos.y}}(sourceNodeRect,sourceHandle,sourcePosition,targetNodeRect,targetHandle,targetPosition),sourceX=_getEdgePositions.sourceX,sourceY=_getEdgePositions.sourceY,targetX=_getEdgePositions.targetX,targetY=_getEdgePositions.targetY;return react.createElement(EdgeComponent,{key:edge.id,id:edge.id,className:cc([edge.className,props.noPanClassName]),type:edgeType,data:edge.data,selected:!!edge.selected,animated:!!edge.animated,hidden:!!edge.hidden,label:edge.label,labelStyle:edge.labelStyle,labelShowBg:edge.labelShowBg,labelBgStyle:edge.labelBgStyle,labelBgPadding:edge.labelBgPadding,labelBgBorderRadius:edge.labelBgBorderRadius,style:edge.style,source:edge.source,target:edge.target,sourceHandleId:edge.sourceHandle,targetHandleId:edge.targetHandle,markerEnd:edge.markerEnd,markerStart:edge.markerStart,sourceX,sourceY,targetX,targetY,sourcePosition,targetPosition,elementsSelectable,onEdgeUpdate:props.onEdgeUpdate,onContextMenu:props.onEdgeContextMenu,onMouseEnter:props.onEdgeMouseEnter,onMouseMove:props.onEdgeMouseMove,onMouseLeave:props.onEdgeMouseLeave,onClick:props.onEdgeClick,edgeUpdaterRadius:props.edgeUpdaterRadius,onEdgeDoubleClick:props.onEdgeDoubleClick,onEdgeUpdateStart:props.onEdgeUpdateStart,onEdgeUpdateEnd:props.onEdgeUpdateEnd,rfId:props.rfId})}))))})),renderConnectionLine&&react.createElement("svg",{style:connectionLineContainerStyle,width,height,className:"react-flow__edges react-flow__connectionline react-flow__container"},react.createElement(ConnectionLine,{connectionNodeId,connectionHandleType,connectionLineStyle,connectionLineType,isConnectable:nodesConnectable,CustomConnectionLineComponent:connectionLineComponent})))};EdgeRenderer.displayName="EdgeRenderer";var EdgeRenderer$1=(0,react.memo)(EdgeRenderer),esm_selector=function selector(s){return"translate(".concat(s.transform[0],"px,").concat(s.transform[1],"px) scale(").concat(s.transform[2],")")};function Viewport(_ref){var children=_ref.children,transform=(0,index_a12c80bd.b)(esm_selector);return react.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform}},children)}var GraphView=function GraphView(_ref){var nodeTypes=_ref.nodeTypes,edgeTypes=_ref.edgeTypes,onMove=_ref.onMove,onMoveStart=_ref.onMoveStart,onMoveEnd=_ref.onMoveEnd,onInit=_ref.onInit,onNodeClick=_ref.onNodeClick,onEdgeClick=_ref.onEdgeClick,onNodeDoubleClick=_ref.onNodeDoubleClick,onEdgeDoubleClick=_ref.onEdgeDoubleClick,onNodeMouseEnter=_ref.onNodeMouseEnter,onNodeMouseMove=_ref.onNodeMouseMove,onNodeMouseLeave=_ref.onNodeMouseLeave,onNodeContextMenu=_ref.onNodeContextMenu,onSelectionContextMenu=_ref.onSelectionContextMenu,connectionLineType=_ref.connectionLineType,connectionLineStyle=_ref.connectionLineStyle,connectionLineComponent=_ref.connectionLineComponent,connectionLineContainerStyle=_ref.connectionLineContainerStyle,selectionKeyCode=_ref.selectionKeyCode,multiSelectionKeyCode=_ref.multiSelectionKeyCode,zoomActivationKeyCode=_ref.zoomActivationKeyCode,deleteKeyCode=_ref.deleteKeyCode,onlyRenderVisibleElements=_ref.onlyRenderVisibleElements,elementsSelectable=_ref.elementsSelectable,selectNodesOnDrag=_ref.selectNodesOnDrag,translateExtent=_ref.translateExtent,minZoom=_ref.minZoom,maxZoom=_ref.maxZoom,defaultZoom=_ref.defaultZoom,defaultPosition=_ref.defaultPosition,preventScrolling=_ref.preventScrolling,defaultMarkerColor=_ref.defaultMarkerColor,zoomOnScroll=_ref.zoomOnScroll,zoomOnPinch=_ref.zoomOnPinch,panOnScroll=_ref.panOnScroll,panOnScrollSpeed=_ref.panOnScrollSpeed,panOnScrollMode=_ref.panOnScrollMode,zoomOnDoubleClick=_ref.zoomOnDoubleClick,panOnDrag=_ref.panOnDrag,onPaneClick=_ref.onPaneClick,onPaneScroll=_ref.onPaneScroll,onPaneContextMenu=_ref.onPaneContextMenu,onEdgeUpdate=_ref.onEdgeUpdate,onEdgeContextMenu=_ref.onEdgeContextMenu,onEdgeMouseEnter=_ref.onEdgeMouseEnter,onEdgeMouseMove=_ref.onEdgeMouseMove,onEdgeMouseLeave=_ref.onEdgeMouseLeave,edgeUpdaterRadius=_ref.edgeUpdaterRadius,onEdgeUpdateStart=_ref.onEdgeUpdateStart,onEdgeUpdateEnd=_ref.onEdgeUpdateEnd,noDragClassName=_ref.noDragClassName,noWheelClassName=_ref.noWheelClassName,noPanClassName=_ref.noPanClassName,elevateEdgesOnSelect=_ref.elevateEdgesOnSelect,id=_ref.id;return function useOnInitHandler(onInit){var ReactFlowInstance=useReactFlow(),isInitialized=(0,react.useRef)(!1);(0,react.useEffect)((function(){!isInitialized.current&&ReactFlowInstance.viewportInitialized&&onInit&&(setTimeout((function(){return onInit(ReactFlowInstance)}),1),isInitialized.current=!0)}),[onInit,ReactFlowInstance.viewportInitialized])}(onInit),react.createElement(FlowRenderer$1,{onPaneClick,onPaneContextMenu,onPaneScroll,deleteKeyCode,selectionKeyCode,multiSelectionKeyCode,zoomActivationKeyCode,elementsSelectable,onMove,onMoveStart,onMoveEnd,zoomOnScroll,zoomOnPinch,zoomOnDoubleClick,panOnScroll,panOnScrollSpeed,panOnScrollMode,panOnDrag,translateExtent,minZoom,maxZoom,defaultZoom,defaultPosition,onSelectionContextMenu,preventScrolling,noDragClassName,noWheelClassName,noPanClassName},react.createElement(Viewport,null,react.createElement(EdgeRenderer$1,{edgeTypes,onEdgeClick,onEdgeDoubleClick,connectionLineType,connectionLineStyle,connectionLineComponent,connectionLineContainerStyle,onEdgeUpdate,onlyRenderVisibleElements,onEdgeContextMenu,onEdgeMouseEnter,onEdgeMouseMove,onEdgeMouseLeave,onEdgeUpdateStart,onEdgeUpdateEnd,edgeUpdaterRadius,defaultMarkerColor,noPanClassName,elevateEdgesOnSelect:!!elevateEdgesOnSelect,rfId:id}),react.createElement(NodeRenderer$1,{nodeTypes,onNodeClick,onNodeDoubleClick,onNodeMouseEnter,onNodeMouseMove,onNodeMouseLeave,onNodeContextMenu,selectNodesOnDrag,onlyRenderVisibleElements,noPanClassName,noDragClassName})))};GraphView.displayName="GraphView";var GraphView$1=(0,react.memo)(GraphView),GroupNode=function GroupNode(){return null};function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}GroupNode.displayName="GroupNode";var wrapNode=function(NodeComponent){var NodeWrapper=function NodeWrapper(_ref){var id=_ref.id,type=_ref.type,data=_ref.data,xPos=_ref.xPos,yPos=_ref.yPos,selected=_ref.selected,onClick=_ref.onClick,onMouseEnter=_ref.onMouseEnter,onMouseMove=_ref.onMouseMove,onMouseLeave=_ref.onMouseLeave,onContextMenu=_ref.onContextMenu,onDoubleClick=_ref.onDoubleClick,style=_ref.style,className=_ref.className,isDraggable=_ref.isDraggable,isSelectable=_ref.isSelectable,isConnectable=_ref.isConnectable,selectNodesOnDrag=_ref.selectNodesOnDrag,sourcePosition=_ref.sourcePosition,targetPosition=_ref.targetPosition,hidden=_ref.hidden,resizeObserver=_ref.resizeObserver,dragHandle=_ref.dragHandle,zIndex=_ref.zIndex,isParent=_ref.isParent,noPanClassName=_ref.noPanClassName,noDragClassName=_ref.noDragClassName,initialized=_ref.initialized,store=(0,index_a12c80bd.u)(),nodeRef=(0,react.useRef)(null),prevSourcePosition=(0,react.useRef)(sourcePosition),prevTargetPosition=(0,react.useRef)(targetPosition),prevType=(0,react.useRef)(type),hasPointerEvents=isSelectable||isDraggable||onClick||onMouseEnter||onMouseMove||onMouseLeave,onMouseEnterHandler=(0,index_a12c80bd.t)(id,store.getState,onMouseEnter),onMouseMoveHandler=(0,index_a12c80bd.t)(id,store.getState,onMouseMove),onMouseLeaveHandler=(0,index_a12c80bd.t)(id,store.getState,onMouseLeave),onContextMenuHandler=(0,index_a12c80bd.t)(id,store.getState,onContextMenu),onDoubleClickHandler=(0,index_a12c80bd.t)(id,store.getState,onDoubleClick);(0,react.useEffect)((function(){if(nodeRef.current&&!hidden){var currNode=nodeRef.current;return null==resizeObserver||resizeObserver.observe(currNode),function(){return null==resizeObserver?void 0:resizeObserver.unobserve(currNode)}}}),[hidden]),(0,react.useEffect)((function(){var typeChanged=prevType.current!==type,sourcePosChanged=prevSourcePosition.current!==sourcePosition,targetPosChanged=prevTargetPosition.current!==targetPosition;nodeRef.current&&(typeChanged||sourcePosChanged||targetPosChanged)&&(typeChanged&&(prevType.current=type),sourcePosChanged&&(prevSourcePosition.current=sourcePosition),targetPosChanged&&(prevTargetPosition.current=targetPosition),store.getState().updateNodeDimensions([{id,nodeElement:nodeRef.current,forceUpdate:!0}]))}),[id,type,sourcePosition,targetPosition]);var dragging=useDrag({nodeRef,disabled:hidden||!isDraggable,noDragClassName,handleSelector:dragHandle,nodeId:id,isSelectable,selectNodesOnDrag});return hidden?null:react.createElement("div",{className:cc(["react-flow__node","react-flow__node-".concat(type),noPanClassName,className,{selected,selectable:isSelectable,parent:isParent}]),ref:nodeRef,style:_objectSpread$2({zIndex,transform:"translate(".concat(xPos,"px,").concat(yPos,"px)"),pointerEvents:hasPointerEvents?"all":"none",visibility:initialized?"visible":"hidden"},style),onMouseEnter:onMouseEnterHandler,onMouseMove:onMouseMoveHandler,onMouseLeave:onMouseLeaveHandler,onContextMenu:onContextMenuHandler,onClick:function onSelectNodeHandler(event){if(!isSelectable||selectNodesOnDrag&&isDraggable||(0,index_a12c80bd.n)({id,store}),onClick){var node=store.getState().nodeInternals.get(id);onClick(event,_objectSpread$2({},node))}},onDoubleClick:onDoubleClickHandler,"data-testid":"rf__node-".concat(id),"data-id":id},react.createElement(Provider,{value:id},react.createElement(NodeComponent,{id,data,type,xPos,yPos,selected,isConnectable,sourcePosition,targetPosition,dragging,dragHandle,zIndex})))};return NodeWrapper.displayName="NodeWrapper",(0,react.memo)(NodeWrapper)};function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function createNodeTypes(nodeTypes){var standardTypes={input:wrapNode(nodeTypes.input||InputNode$1),default:wrapNode(nodeTypes.default||DefaultNode$1),output:wrapNode(nodeTypes.output||OutputNode$1),group:wrapNode(nodeTypes.group||GroupNode)},specialTypes=Object.keys(nodeTypes).filter((function(k){return!["input","default","output","group"].includes(k)})).reduce((function(res,key){return res[key]=wrapNode(nodeTypes[key]||DefaultNode$1),res}),{});return _objectSpread$1(_objectSpread$1({},standardTypes),specialTypes)}function useNodeOrEdgeTypes(nodeOrEdgeTypes,createTypes){(0,react.useRef)(null);return(0,react.useMemo)((function(){return createTypes(nodeOrEdgeTypes)}),[nodeOrEdgeTypes])}function injectStyle(css){if(css&&"undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");head.appendChild(style),style.appendChild(document.createTextNode(css))}}var Wrapper=function Wrapper(_ref){var children=_ref.children,isWrapped=!0;try{(0,index_a12c80bd.u)()}catch(e){isWrapped=!1}return isWrapped?react.createElement(react.Fragment,null,children):react.createElement(index_a12c80bd.v,{createStore:index_a12c80bd.w},children)};Wrapper.displayName="ReactFlowWrapper";var esm_excluded=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function esm_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function esm_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?esm_ownKeys(Object(source),!0).forEach((function(key){(0,index_a12c80bd.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):esm_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}injectStyle(".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}"),injectStyle(".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}");var defaultNodeTypes={input:InputNode$1,default:DefaultNode$1,output:OutputNode$1},defaultEdgeTypes={default:BezierEdge,straight:StraightEdge,step:StepEdge,smoothstep:SmoothStepEdge,simplebezier:SimpleBezierEdge},initSnapGrid=[15,15],initDefaultPosition=[0,0];(0,react.forwardRef)((function(_ref,ref){var nodes=_ref.nodes,edges=_ref.edges,defaultNodes=_ref.defaultNodes,defaultEdges=_ref.defaultEdges,className=_ref.className,_ref$nodeTypes=_ref.nodeTypes,nodeTypes=void 0===_ref$nodeTypes?defaultNodeTypes:_ref$nodeTypes,_ref$edgeTypes=_ref.edgeTypes,edgeTypes=void 0===_ref$edgeTypes?defaultEdgeTypes:_ref$edgeTypes,onNodeClick=_ref.onNodeClick,onEdgeClick=_ref.onEdgeClick,onInit=_ref.onInit,onMove=_ref.onMove,onMoveStart=_ref.onMoveStart,onMoveEnd=_ref.onMoveEnd,onConnect=_ref.onConnect,onConnectStart=_ref.onConnectStart,onConnectStop=_ref.onConnectStop,onConnectEnd=_ref.onConnectEnd,onClickConnectStart=_ref.onClickConnectStart,onClickConnectStop=_ref.onClickConnectStop,onClickConnectEnd=_ref.onClickConnectEnd,onNodeMouseEnter=_ref.onNodeMouseEnter,onNodeMouseMove=_ref.onNodeMouseMove,onNodeMouseLeave=_ref.onNodeMouseLeave,onNodeContextMenu=_ref.onNodeContextMenu,onNodeDoubleClick=_ref.onNodeDoubleClick,onNodeDragStart=_ref.onNodeDragStart,onNodeDrag=_ref.onNodeDrag,onNodeDragStop=_ref.onNodeDragStop,onNodesDelete=_ref.onNodesDelete,onEdgesDelete=_ref.onEdgesDelete,onSelectionChange=_ref.onSelectionChange,onSelectionDragStart=_ref.onSelectionDragStart,onSelectionDrag=_ref.onSelectionDrag,onSelectionDragStop=_ref.onSelectionDragStop,onSelectionContextMenu=_ref.onSelectionContextMenu,_ref$connectionMode=_ref.connectionMode,connectionMode=void 0===_ref$connectionMode?index_a12c80bd.C.Strict:_ref$connectionMode,_ref$connectionLineTy=_ref.connectionLineType,connectionLineType=void 0===_ref$connectionLineTy?index_a12c80bd.q.Bezier:_ref$connectionLineTy,connectionLineStyle=_ref.connectionLineStyle,connectionLineComponent=_ref.connectionLineComponent,connectionLineContainerStyle=_ref.connectionLineContainerStyle,_ref$deleteKeyCode=_ref.deleteKeyCode,deleteKeyCode=void 0===_ref$deleteKeyCode?"Backspace":_ref$deleteKeyCode,_ref$selectionKeyCode=_ref.selectionKeyCode,selectionKeyCode=void 0===_ref$selectionKeyCode?"Shift":_ref$selectionKeyCode,_ref$multiSelectionKe=_ref.multiSelectionKeyCode,multiSelectionKeyCode=void 0===_ref$multiSelectionKe?"Meta":_ref$multiSelectionKe,_ref$zoomActivationKe=_ref.zoomActivationKeyCode,zoomActivationKeyCode=void 0===_ref$zoomActivationKe?"Meta":_ref$zoomActivationKe,_ref$snapToGrid=_ref.snapToGrid,snapToGrid=void 0!==_ref$snapToGrid&&_ref$snapToGrid,_ref$snapGrid=_ref.snapGrid,snapGrid=void 0===_ref$snapGrid?initSnapGrid:_ref$snapGrid,_ref$onlyRenderVisibl=_ref.onlyRenderVisibleElements,onlyRenderVisibleElements=void 0!==_ref$onlyRenderVisibl&&_ref$onlyRenderVisibl,_ref$selectNodesOnDra=_ref.selectNodesOnDrag,selectNodesOnDrag=void 0===_ref$selectNodesOnDra||_ref$selectNodesOnDra,nodesDraggable=_ref.nodesDraggable,nodesConnectable=_ref.nodesConnectable,elementsSelectable=_ref.elementsSelectable,_ref$minZoom=_ref.minZoom,minZoom=void 0===_ref$minZoom?.5:_ref$minZoom,_ref$maxZoom=_ref.maxZoom,maxZoom=void 0===_ref$maxZoom?2:_ref$maxZoom,_ref$defaultZoom=_ref.defaultZoom,defaultZoom=void 0===_ref$defaultZoom?1:_ref$defaultZoom,_ref$defaultPosition=_ref.defaultPosition,defaultPosition=void 0===_ref$defaultPosition?initDefaultPosition:_ref$defaultPosition,_ref$translateExtent=_ref.translateExtent,translateExtent=void 0===_ref$translateExtent?index_a12c80bd.x:_ref$translateExtent,_ref$preventScrolling=_ref.preventScrolling,preventScrolling=void 0===_ref$preventScrolling||_ref$preventScrolling,nodeExtent=_ref.nodeExtent,_ref$defaultMarkerCol=_ref.defaultMarkerColor,defaultMarkerColor=void 0===_ref$defaultMarkerCol?"#b1b1b7":_ref$defaultMarkerCol,_ref$zoomOnScroll=_ref.zoomOnScroll,zoomOnScroll=void 0===_ref$zoomOnScroll||_ref$zoomOnScroll,_ref$zoomOnPinch=_ref.zoomOnPinch,zoomOnPinch=void 0===_ref$zoomOnPinch||_ref$zoomOnPinch,_ref$panOnScroll=_ref.panOnScroll,panOnScroll=void 0!==_ref$panOnScroll&&_ref$panOnScroll,_ref$panOnScrollSpeed=_ref.panOnScrollSpeed,panOnScrollSpeed=void 0===_ref$panOnScrollSpeed?.5:_ref$panOnScrollSpeed,_ref$panOnScrollMode=_ref.panOnScrollMode,panOnScrollMode=void 0===_ref$panOnScrollMode?index_a12c80bd.h.Free:_ref$panOnScrollMode,_ref$zoomOnDoubleClic=_ref.zoomOnDoubleClick,zoomOnDoubleClick=void 0===_ref$zoomOnDoubleClic||_ref$zoomOnDoubleClic,_ref$panOnDrag=_ref.panOnDrag,panOnDrag=void 0===_ref$panOnDrag||_ref$panOnDrag,onPaneClick=_ref.onPaneClick,onPaneScroll=_ref.onPaneScroll,onPaneContextMenu=_ref.onPaneContextMenu,children=_ref.children,onEdgeUpdate=_ref.onEdgeUpdate,onEdgeContextMenu=_ref.onEdgeContextMenu,onEdgeDoubleClick=_ref.onEdgeDoubleClick,onEdgeMouseEnter=_ref.onEdgeMouseEnter,onEdgeMouseMove=_ref.onEdgeMouseMove,onEdgeMouseLeave=_ref.onEdgeMouseLeave,onEdgeUpdateStart=_ref.onEdgeUpdateStart,onEdgeUpdateEnd=_ref.onEdgeUpdateEnd,_ref$edgeUpdaterRadiu=_ref.edgeUpdaterRadius,edgeUpdaterRadius=void 0===_ref$edgeUpdaterRadiu?10:_ref$edgeUpdaterRadiu,onNodesChange=_ref.onNodesChange,onEdgesChange=_ref.onEdgesChange,_ref$noDragClassName=_ref.noDragClassName,noDragClassName=void 0===_ref$noDragClassName?"nodrag":_ref$noDragClassName,_ref$noWheelClassName=_ref.noWheelClassName,noWheelClassName=void 0===_ref$noWheelClassName?"nowheel":_ref$noWheelClassName,_ref$noPanClassName=_ref.noPanClassName,noPanClassName=void 0===_ref$noPanClassName?"nopan":_ref$noPanClassName,_ref$fitView=_ref.fitView,fitView=void 0!==_ref$fitView&&_ref$fitView,fitViewOptions=_ref.fitViewOptions,_ref$connectOnClick=_ref.connectOnClick,connectOnClick=void 0===_ref$connectOnClick||_ref$connectOnClick,attributionPosition=_ref.attributionPosition,proOptions=_ref.proOptions,defaultEdgeOptions=_ref.defaultEdgeOptions,_ref$elevateEdgesOnSe=_ref.elevateEdgesOnSelect,elevateEdgesOnSelect=void 0!==_ref$elevateEdgesOnSe&&_ref$elevateEdgesOnSe,rest=_objectWithoutProperties(_ref,esm_excluded),nodeTypesWrapped=useNodeOrEdgeTypes(nodeTypes,createNodeTypes),edgeTypesWrapped=useNodeOrEdgeTypes(edgeTypes,createEdgeTypes);return react.createElement("div",esm_objectSpread(esm_objectSpread({},rest),{},{ref,className:cc(["react-flow",className])}),react.createElement(Wrapper,null,react.createElement(GraphView$1,{onInit,onMove,onMoveStart,onMoveEnd,onNodeClick,onEdgeClick,onNodeMouseEnter,onNodeMouseMove,onNodeMouseLeave,onNodeContextMenu,onNodeDoubleClick,nodeTypes:nodeTypesWrapped,edgeTypes:edgeTypesWrapped,connectionLineType,connectionLineStyle,connectionLineComponent,connectionLineContainerStyle,selectionKeyCode,deleteKeyCode,multiSelectionKeyCode,zoomActivationKeyCode,onlyRenderVisibleElements,selectNodesOnDrag,translateExtent,minZoom,maxZoom,defaultZoom,defaultPosition,preventScrolling,zoomOnScroll,zoomOnPinch,zoomOnDoubleClick,panOnScroll,panOnScrollSpeed,panOnScrollMode,panOnDrag,onPaneClick,onPaneScroll,onPaneContextMenu,onSelectionContextMenu,onEdgeUpdate,onEdgeContextMenu,onEdgeDoubleClick,onEdgeMouseEnter,onEdgeMouseMove,onEdgeMouseLeave,onEdgeUpdateStart,onEdgeUpdateEnd,edgeUpdaterRadius,defaultMarkerColor,noDragClassName,noWheelClassName,noPanClassName,elevateEdgesOnSelect,id:null==rest?void 0:rest.id}),react.createElement(StoreUpdater,{nodes,edges,defaultNodes,defaultEdges,onConnect,onConnectStart,onConnectStop,onConnectEnd,onClickConnectStart,onClickConnectStop,onClickConnectEnd,nodesDraggable,nodesConnectable,elementsSelectable,minZoom,maxZoom,nodeExtent,onNodesChange,onEdgesChange,snapToGrid,snapGrid,connectionMode,translateExtent,connectOnClick,defaultEdgeOptions,fitView,fitViewOptions,onNodesDelete,onEdgesDelete,onNodeDragStart,onNodeDrag,onNodeDragStop,onSelectionDrag,onSelectionDragStart,onSelectionDragStop}),onSelectionChange&&react.createElement(SelectionListener$1,{onSelectionChange}),children,react.createElement(Attribution,{proOptions,position:attributionPosition})))})).displayName="ReactFlow";function createUseItemsState(applyChanges){return function(initialItems){var _useState=(0,react.useState)(initialItems),_useState2=(0,index_a12c80bd._)(_useState,2),items=_useState2[0],setItems=_useState2[1],onItemsChange=(0,react.useCallback)((function(changes){return setItems((function(items){return applyChanges(changes,items)}))}),[]);return[items,setItems,onItemsChange]}}createUseItemsState(index_a12c80bd.y),createUseItemsState(index_a12c80bd.z)}}]);